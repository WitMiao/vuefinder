(function(e,Ve){typeof exports=="object"&&typeof module<"u"?module.exports=Ve(require("vue"),require("plupload")):typeof define=="function"&&define.amd?define(["vue","plupload"],Ve):(e=typeof globalThis<"u"?globalThis:e||self,e.VueFinder=Ve(e.Vue,e.plupload))})(this,function(e,Ve){var tr;"use strict";const Je=(i=>i&&typeof i=="object"&&"default"in i?i:{default:i})(Ve),Ie=(tr=document.querySelector('meta[name="csrf-token"]'))==null?void 0:tr.getAttribute("content"),ze=(i,{method:t="get",params:r={},json:o=!0,signal:s=null})=>{const a={method:t};if(a.signal=s,t=="get")i+="?"+new URLSearchParams(r);else{a.headers={},Ie&&(a.headers["X-CSRF-Token"]=Ie);let l=new FormData;for(const[m,p]of Object.entries(r))l.append(m,p);a.body=l}return fetch(i,a).then(l=>l.ok?o?l.json():l.text():l.json().then(Promise.reject.bind(Promise)))};function _r(i){return{all:i=i||new Map,on:function(t,r){var o=i.get(t);o?o.push(r):i.set(t,[r])},off:function(t,r){var o=i.get(t);o&&(r?o.splice(o.indexOf(r)>>>0,1):i.set(t,[]))},emit:function(t,r){var o=i.get(t);o&&o.slice().map(function(s){s(r)}),(o=i.get("*"))&&o.slice().map(function(s){s(t,r)})}}}function Ze(i){let t=localStorage.getItem(i+"_storage");const r=e.ref(JSON.parse(t));e.watch(r,o);function o(){r.value===null||r.value===""?localStorage.removeItem(i+"_storage"):localStorage.setItem(i+"_storage",JSON.stringify(r.value))}function s(m,p){r.value=Object.assign({...r.value},{[m]:p})}function a(){r.value=null}return{getStore:(m,p=null)=>r.value===null||r.value===""?p:r.value.hasOwnProperty(m)?r.value[m]:p,setStore:s,clearStore:a}}const vt=e.ref("");function ie(){function i(t){vt.value=t}return{apiUrl:vt,setApiUrl:i}}const xr={class:"border-neutral-300 flex justify-between items-center py-1 text-sm"},Sr={key:0,class:"flex text-center"},Dr=["aria-label"],Er=[e.createElementVNode("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6 md:h-8 md:w-8 m-auto cursor-pointer stroke-gray-500 hover:stroke-cyan-700 dark:stroke-gray-400 dark:hover:stroke-gray-300",fill:"none",viewBox:"0 0 24 24",stroke:"none","stroke-width":"1.5"},[e.createElementVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 10.5v6m3-3H9m4.06-7.19l-2.12-2.12a1.5 1.5 0 00-1.061-.44H4.5A2.25 2.25 0 002.25 6v12a2.25 2.25 0 002.25 2.25h15A2.25 2.25 0 0021.75 18V9a2.25 2.25 0 00-2.25-2.25h-5.379a1.5 1.5 0 01-1.06-.44z"})],-1)],Nr=["aria-label"],Vr=[e.createElementVNode("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6 md:h-8 md:w-8 m-auto cursor-pointer stroke-gray-500 hover:stroke-cyan-700 dark:stroke-gray-400 dark:hover:stroke-gray-300",fill:"none",viewBox:"0 0 24 24",stroke:"none","stroke-width":"1.5"},[e.createElementVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 00-3.375-3.375h-1.5A1.125 1.125 0 0113.5 7.125v-1.5a3.375 3.375 0 00-3.375-3.375H8.25m3.75 9v6m3-3H9m1.5-12H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 00-9-9z"})],-1)],Cr=["aria-label"],$r=[e.createElementVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L10.582 16.07a4.5 4.5 0 01-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 011.13-1.897l8.932-8.931zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0115.75 21H5.25A2.25 2.25 0 013 18.75V8.25A2.25 2.25 0 015.25 6H10"},null,-1)],Mr=["aria-label"],Br=[e.createElementVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"},null,-1)],Tr=["aria-label"],Ar=[e.createElementVNode("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6 md:h-8 md:w-8 m-auto cursor-pointer stroke-gray-500 hover:stroke-cyan-700 dark:stroke-gray-400 dark:hover:stroke-gray-300",fill:"none",viewBox:"0 0 24 24",stroke:"none","stroke-width":"1.5"},[e.createElementVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3 16.5v2.25A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75V16.5m-13.5-9L12 3m0 0l4.5 4.5M12 3v13.5"})],-1)],Or=["aria-label"],jr=[e.createElementVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M20.25 7.5l-.625 10.632a2.25 2.25 0 01-2.247 2.118H6.622a2.25 2.25 0 01-2.247-2.118L3.75 7.5m6 4.125l2.25 2.25m0 0l2.25 2.25M12 13.875l2.25-2.25M12 13.875l-2.25 2.25M3.375 7.5h17.25c.621 0 1.125-.504 1.125-1.125v-1.5c0-.621-.504-1.125-1.125-1.125H3.375c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125z"},null,-1)],Pr=["aria-label"],Lr=[e.createElementVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M20.25 7.5l-.625 10.632a2.25 2.25 0 01-2.247 2.118H6.622a2.25 2.25 0 01-2.247-2.118L3.75 7.5M10 11.25h4M3.375 7.5h17.25c.621 0 1.125-.504 1.125-1.125v-1.5c0-.621-.504-1.125-1.125-1.125H3.375c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125z"},null,-1)],Ir={key:1,class:"flex text-center"},zr={class:"pl-2"},Rr={class:"dark:bg-gray-700 bg-gray-200 text-xs px-2 py-1 rounded"},Hr={key:0,class:"animate-spin p-0.5 h-5 w-5 text-white ml-auto",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},Fr=[e.createElementVNode("circle",{class:"opacity-25 stroke-blue-900 dark:stroke-blue-100",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),e.createElementVNode("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)],Ur={class:"flex text-center items-center justify-end"},Kr=["aria-label"],Yr=[e.createElementVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 3v2.25m6.364.386l-1.591 1.591M21 12h-2.25m-.386 6.364l-1.591-1.591M12 18.75V21m-4.773-4.227l-1.591 1.591M5.25 12H3m4.227-4.773L5.636 5.636M15.75 12a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0z"},null,-1)],Wr=["aria-label"],Xr={xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6 md:h-8 md:w-8 m-auto cursor-pointer stroke-gray-500 hover:stroke-cyan-700 dark:stroke-gray-400 dark:hover:stroke-gray-300",fill:"none",viewBox:"0 0 24 24",stroke:"none","stroke-width":"1.5"},qr={key:0,"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 9V4.5M9 9H4.5M9 9L3.75 3.75M9 15v4.5M9 15H4.5M9 15l-5.25 5.25M15 9h4.5M15 9V4.5M15 9l5.25-5.25M15 15h4.5M15 15v4.5m0-4.5l5.25 5.25"},Gr={key:1,"stroke-linecap":"round","stroke-linejoin":"round",d:"M3.75 3.75v4.5m0-4.5h4.5m-4.5 0L9 9M3.75 20.25v-4.5m0 4.5h4.5m-4.5 0L9 15M20.25 3.75h-4.5m4.5 0v4.5m0-4.5L15 9m5.25 11.25h-4.5m4.5 0v-4.5m0 4.5L15 15"},Jr=["aria-label"],Zr={key:0,"stroke-linecap":"round","stroke-linejoin":"round",d:"M3.75 6A2.25 2.25 0 016 3.75h2.25A2.25 2.25 0 0110.5 6v2.25a2.25 2.25 0 01-2.25 2.25H6a2.25 2.25 0 01-2.25-2.25V6zM3.75 15.75A2.25 2.25 0 016 13.5h2.25a2.25 2.25 0 012.25 2.25V18a2.25 2.25 0 01-2.25 2.25H6A2.25 2.25 0 013.75 18v-2.25zM13.5 6a2.25 2.25 0 012.25-2.25H18A2.25 2.25 0 0120.25 6v2.25A2.25 2.25 0 0118 10.5h-2.25a2.25 2.25 0 01-2.25-2.25V6zM13.5 15.75a2.25 2.25 0 012.25-2.25H18a2.25 2.25 0 012.25 2.25V18A2.25 2.25 0 0118 20.25h-2.25A2.25 2.25 0 0113.5 18v-2.25z"},Qr={key:1,"stroke-linecap":"round","stroke-linejoin":"round",d:"M3.75 12h16.5m-16.5 3.75h16.5M3.75 19.5h16.5M5.625 4.5h12.75a1.875 1.875 0 010 3.75H5.625a1.875 1.875 0 010-3.75z"},en=Object.assign({name:"VFToolbar"},{props:{data:Object},setup(i){const t=e.inject("emitter"),{getStore:r,setStore:o}=e.inject("storage"),{t:s}=e.inject("i18n"),a=e.ref(r("viewport","grid")),l=e.ref([]),m=e.ref(r("full-screen",!1)),p=e.ref("");t.on("vf-search-query",({newQuery:b})=>{p.value=b});const f=e.inject("loadingState"),h=()=>f.value,y=()=>{m.value=!m.value,t.emit("vf-fullscreen-toggle")};return t.on("vf-nodes-selected",b=>{l.value=b}),t.on("vf-view-toggle",b=>{o("viewport",b),a.value=b}),(b,E)=>(e.openBlock(),e.createElementBlock("div",xr,[p.value.length?(e.openBlock(),e.createElementBlock("div",Ir,[e.createElementVNode("div",zr,[e.createTextVNode(e.toDisplayString(e.unref(s)("Search results for"))+" ",1),e.createElementVNode("span",Rr,e.toDisplayString(p.value),1)]),h()?(e.openBlock(),e.createElementBlock("svg",Hr,Fr)):e.createCommentVNode("",!0)])):(e.openBlock(),e.createElementBlock("div",Sr,[e.createElementVNode("div",{class:"mx-1.5","aria-label":e.unref(s)("New Folder"),"data-microtip-position":"bottom-right",role:"tooltip",onClick:E[0]||(E[0]=k=>e.unref(t).emit("vf-modal-show",{type:"new-folder",items:l.value}))},Er,8,Dr),e.createElementVNode("div",{class:"mx-1.5","aria-label":e.unref(s)("New File"),"data-microtip-position":"bottom",role:"tooltip",onClick:E[1]||(E[1]=k=>e.unref(t).emit("vf-modal-show",{type:"new-file",items:l.value}))},Vr,8,Nr),e.createElementVNode("div",{class:"mx-1.5","aria-label":e.unref(s)("Rename"),"data-microtip-position":"bottom",role:"tooltip",onClick:E[2]||(E[2]=k=>l.value.length!=1||e.unref(t).emit("vf-modal-show",{type:"rename",items:l.value}))},[(e.openBlock(),e.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",class:e.normalizeClass([l.value.length==1?"cursor-pointer stroke-gray-500 hover:stroke-cyan-700 dark:stroke-gray-400 dark:hover:stroke-gray-300":"stroke-gray-200  dark:stroke-gray-700","h-6 w-6 md:h-8 md:w-8 m-auto"]),fill:"none",viewBox:"0 0 24 24",stroke:"none","stroke-width":"1.5"},$r,2))],8,Cr),e.createElementVNode("div",{class:"mx-1.5","aria-label":e.unref(s)("Delete"),"data-microtip-position":"bottom",role:"tooltip",onClick:E[3]||(E[3]=k=>!l.value.length||e.unref(t).emit("vf-modal-show",{type:"delete",items:l.value}))},[(e.openBlock(),e.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",class:e.normalizeClass([l.value.length?"cursor-pointer stroke-gray-500 hover:stroke-cyan-700 dark:stroke-gray-400 dark:hover:stroke-gray-300":"stroke-gray-200  dark:stroke-gray-700","h-6 w-6 md:h-8 md:w-8 m-auto"]),fill:"none",viewBox:"0 0 24 24",stroke:"none","stroke-width":"1.5"},Br,2))],8,Mr),e.createElementVNode("div",{class:"mx-1.5","aria-label":e.unref(s)("Upload"),"data-microtip-position":"bottom",role:"tooltip",onClick:E[4]||(E[4]=k=>e.unref(t).emit("vf-modal-show",{type:"upload",items:l.value}))},Ar,8,Tr),l.value.length==1&&l.value[0].mime_type=="application/zip"?(e.openBlock(),e.createElementBlock("div",{key:0,class:"mx-1.5","aria-label":e.unref(s)("Unrchive"),"data-microtip-position":"bottom",role:"tooltip",onClick:E[5]||(E[5]=k=>!l.value.length||e.unref(t).emit("vf-modal-show",{type:"unarchive",items:l.value}))},[(e.openBlock(),e.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",class:e.normalizeClass([l.value.length?"cursor-pointer stroke-gray-500 hover:stroke-cyan-700 dark:stroke-gray-400 dark:hover:stroke-gray-300":"stroke-gray-200  dark:stroke-gray-700","h-6 w-6 md:h-8 md:w-8 m-auto"]),fill:"none",viewBox:"0 0 24 24",stroke:"none","stroke-width":"1.5"},jr,2))],8,Or)):(e.openBlock(),e.createElementBlock("div",{key:1,class:"mx-1.5","aria-label":e.unref(s)("Archive"),"data-microtip-position":"bottom",role:"tooltip",onClick:E[6]||(E[6]=k=>!l.value.length||e.unref(t).emit("vf-modal-show",{type:"archive",items:l.value}))},[(e.openBlock(),e.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",class:e.normalizeClass([l.value.length?"cursor-pointer stroke-gray-500 hover:stroke-cyan-700 dark:stroke-gray-400 dark:hover:stroke-gray-300":"stroke-gray-200  dark:stroke-gray-700","h-6 w-6 md:h-8 md:w-8 m-auto"]),fill:"none",viewBox:"0 0 24 24",stroke:"none","stroke-width":"1.5"},Lr,2))],8,Pr))])),e.createElementVNode("div",Ur,[e.createElementVNode("div",{class:"mx-1.5","aria-label":e.unref(s)("Dark Mode"),"data-microtip-position":"bottom",role:"tooltip"},[(e.openBlock(),e.createElementBlock("svg",{onClick:E[7]||(E[7]=k=>e.unref(t).emit("vf-darkMode-toggle")),viewBox:"0 0 24 24","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"h-6 w-6 m-auto cursor-pointer stroke-sky-500 fill-sky-100 hover:stroke-sky-600 dark:stroke-gray-400 dark:fill-gray-400/20 dark:hover:stroke-gray-300"},Yr))],8,Kr),e.createElementVNode("div",{class:"mx-1.5","aria-label":e.unref(s)("Toggle Full Screen"),"data-microtip-position":"bottom",role:"tooltip",onClick:y},[(e.openBlock(),e.createElementBlock("svg",Xr,[m.value?(e.openBlock(),e.createElementBlock("path",qr)):(e.openBlock(),e.createElementBlock("path",Gr))]))],8,Wr),e.createElementVNode("div",{class:"mx-1.5","aria-label":e.unref(s)("Change View"),"data-microtip-position":"bottom-left",role:"tooltip",onClick:E[8]||(E[8]=k=>p.value.length||e.unref(t).emit("vf-view-toggle",a.value=="list"?"grid":"list"))},[(e.openBlock(),e.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",class:e.normalizeClass([p.value.length?"stroke-gray-200  dark:stroke-gray-700":"cursor-pointer stroke-gray-500 hover:stroke-cyan-700 dark:stroke-gray-400 dark:hover:stroke-gray-300","h-6 w-6 md:h-8 md:w-8 m-auto"]),fill:"none",viewBox:"0 0 24 24",stroke:"none","stroke-width":"1.5"},[a.value=="grid"?(e.openBlock(),e.createElementBlock("path",Zr)):e.createCommentVNode("",!0),a.value=="list"?(e.openBlock(),e.createElementBlock("path",Qr)):e.createCommentVNode("",!0)],2))],8,Jr)])]))}});var tn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},kt={exports:{}};(function(i,t){(function(r,o){i.exports=o()})(tn,function(){function r(u,c){if(!(u instanceof c))throw new TypeError("Cannot call a class as a function")}function o(u,c){for(var n=0;n<c.length;n++){var g=c[n];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(u,g.key,g)}}function s(u,c,n){return c&&o(u.prototype,c),n&&o(u,n),u}function a(u,c,n){return c in u?Object.defineProperty(u,c,{value:n,enumerable:!0,configurable:!0,writable:!0}):u[c]=n,u}function l(u,c){var n=Object.keys(u);if(Object.getOwnPropertySymbols){var g=Object.getOwnPropertySymbols(u);c&&(g=g.filter(function(d){return Object.getOwnPropertyDescriptor(u,d).enumerable})),n.push.apply(n,g)}return n}function m(u){for(var c=1;c<arguments.length;c++){var n=arguments[c]!=null?arguments[c]:{};c%2?l(Object(n),!0).forEach(function(g){a(u,g,n[g])}):Object.getOwnPropertyDescriptors?Object.defineProperties(u,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach(function(g){Object.defineProperty(u,g,Object.getOwnPropertyDescriptor(n,g))})}return u}function p(u,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");u.prototype=Object.create(c&&c.prototype,{constructor:{value:u,writable:!0,configurable:!0}}),c&&h(u,c)}function f(u){return f=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},f(u)}function h(u,c){return h=Object.setPrototypeOf||function(g,d){return g.__proto__=d,g},h(u,c)}function y(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function b(u,c,n){return y()?b=Reflect.construct:b=function(d,w,v){var _=[null];_.push.apply(_,w);var D=Function.bind.apply(d,_),C=new D;return v&&h(C,v.prototype),C},b.apply(null,arguments)}function E(u){return Function.toString.call(u).indexOf("[native code]")!==-1}function k(u){var c=typeof Map=="function"?new Map:void 0;return k=function(g){if(g===null||!E(g))return g;if(typeof g!="function")throw new TypeError("Super expression must either be null or a function");if(typeof c<"u"){if(c.has(g))return c.get(g);c.set(g,d)}function d(){return b(g,arguments,f(this).constructor)}return d.prototype=Object.create(g.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),h(d,g)},k(u)}function x(u){if(u===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u}function M(u,c){return c&&(typeof c=="object"||typeof c=="function")?c:x(u)}function I(u){var c=y();return function(){var g=f(u),d;if(c){var w=f(this).constructor;d=Reflect.construct(g,arguments,w)}else d=g.apply(this,arguments);return M(this,d)}}function O(u,c){for(;!Object.prototype.hasOwnProperty.call(u,c)&&(u=f(u),u!==null););return u}function N(u,c,n){return typeof Reflect<"u"&&Reflect.get?N=Reflect.get:N=function(d,w,v){var _=O(d,w);if(!!_){var D=Object.getOwnPropertyDescriptor(_,w);return D.get?D.get.call(v):D.value}},N(u,c,n||u)}function P(u,c){return F(u)||Q(u,c)||re(u,c)||B()}function H(u){return S(u)||W(u)||re(u)||A()}function S(u){if(Array.isArray(u))return $(u)}function F(u){if(Array.isArray(u))return u}function W(u){if(typeof Symbol<"u"&&Symbol.iterator in Object(u))return Array.from(u)}function Q(u,c){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(u)))){var n=[],g=!0,d=!1,w=void 0;try{for(var v=u[Symbol.iterator](),_;!(g=(_=v.next()).done)&&(n.push(_.value),!(c&&n.length===c));g=!0);}catch(D){d=!0,w=D}finally{try{!g&&v.return!=null&&v.return()}finally{if(d)throw w}}return n}}function re(u,c){if(!!u){if(typeof u=="string")return $(u,c);var n=Object.prototype.toString.call(u).slice(8,-1);if(n==="Object"&&u.constructor&&(n=u.constructor.name),n==="Map"||n==="Set")return Array.from(u);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $(u,c)}}function $(u,c){(c==null||c>u.length)&&(c=u.length);for(var n=0,g=new Array(c);n<c;n++)g[n]=u[n];return g}function A(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function B(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var z=function(c,n,g){var d=c.x,w=c.y,v=g.x,_=g.y,D={"+":{x:d+v,y:w+_},"-":{x:d-v,y:w-_},"*":{x:d*v,y:w*_},"/":{x:d/v,y:w/_}};return D[n]},j=function(c){return{x:c.left,y:c.top}},G=function(c){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return{left:c.x,top:c.y,right:c.x,bottom:c.y,width:n,height:n}},U=function(c){return{x:c,y:c}},je=function(u,c,n){window.addEventListener("resize",c),window.addEventListener("scroll",c),u.forEach(function(g,d){n.observe(g,{childList:d!==0,attributes:!0})})},Pe=function(u){var c=De(u);return c.x||c.y?!0:u instanceof HTMLDocument?u.body?!!(u.body.scrollTop=1):!!(u.documentElement.scrollTop=1):!!(u.scrollTop=1)},We=function(u){var c=document.createElement("div");return c.style.position="fixed",c.style.overflow="hidden",c.style.pointerEvents="none",c.style.zIndex="999999999999999999",c.classList.add(u),c},Xe=function(u){var c=document.createElement("div");return c.style.position="absolute",u||(c.style.background="rgba(0, 0, 255, 0.1)",c.style.border="1px solid rgba(0, 0, 255, 0.45)",c.style.display="none",c.style.pointerEvents="none"),c},qe=function(u,c){var n;return function(){for(var g=arguments.length,d=new Array(g),w=0;w<g;w++)d[w]=arguments[w];var v=function(){n=null,u.apply(void 0,d)};clearTimeout(n),n=setTimeout(v,c)}},Se=function(){var u,c,n,g;return{y:((u=document.body)===null||u===void 0?void 0:u.scrollTop)||((c=document.documentElement)===null||c===void 0?void 0:c.scrollTop)||0,x:((n=document.body)===null||n===void 0?void 0:n.scrollLeft)||((g=document.documentElement)===null||g===void 0?void 0:g.scrollLeft)||0}},yt=function(u,c){if(u instanceof Document)return{top:0,left:0,bottom:0,right:0,width:window.innerWidth,height:window.innerHeight};var n=u.getBoundingClientRect();return{top:n.top,left:n.left,bottom:n.bottom,right:n.right,width:(u.clientWidth||n.width)*c,height:(u.clientHeight||n.height)*c}},De=function(u){return!u||u instanceof Document?Se():{x:u.scrollLeft>=0?u.scrollLeft:Se().x,y:u.scrollTop>=0?u.scrollTop:Se().y}},rr=function(u){var c=u.elementRect,n=u.containerRect,g=u.tolerance,d=g===void 0?{x:0,y:0}:g,w=[];return c.top-d.y<n.top&&w.push("top"),c.left-d.x<n.left&&w.push("left"),c.bottom+d.y>n.bottom&&w.push("bottom"),c.right+d.y>n.right&&w.push("right"),w},ml=function(u){var c=u.event;return{x:c.clientX,y:c.clientY}},fl=function(u){var c=u.scrollAmount,n=u.initialPointerPos,g=u.pointerPos,d={};return g.x>n.x-c.x?(d.left=n.x-c.x,d.width=g.x-n.x+c.x):(d.left=g.x,d.width=n.x-g.x-c.x),g.y>n.y-c.y?(d.top=n.y-c.y,d.height=g.y-n.y+c.y):(d.top=g.y,d.height=n.y-g.y-c.y),d},nr=function(c){var n={x:0,y:0},g=window.getComputedStyle(c);if(!g.transform||g.transform==="none")return n;if(g.transform.indexOf("3d")>=0){var d=g.transform.trim().match(/matrix3d\((.*?)\)/);if(d&&d.length){var w,v=(w=d[1])===null||w===void 0?void 0:w.split(",");n.x=parseInt(v[12])||0,n.y=parseInt(v[13])||0}return n}else{var _=g.transform.trim().match(/matrix\((.*?)\)/);if(_&&_.length){var D,C=(D=_[1])===null||D===void 0?void 0:D.split(",");n.x=parseInt(C[4])||0,n.y=parseInt(C[5])||0}return n}},pl=function(c){var n=c.style.transform;if(!n||n.indexOf("translate")<0)return nr(c);var g={x:0,y:0},d=n.trim().match(/translate[3dD]*?\(.*?\)/);if(d){var w,v=(w=d[0])===null||w===void 0?void 0:w.split("(");if(v){var _,D=(_=v[1])===null||_===void 0?void 0:_.split(",");g.x=parseInt(D[0])||0,g.y=parseInt(D[1])||0}}return!g.x&&!g.x?nr(c):g},gl=function(c){var n=c.style,g={x:parseInt(n.left)||0,y:parseInt(n.top)||0};if(!g.x&&!g.x){var d=window.getComputedStyle(c);return{x:parseInt(d.left)||0,y:parseInt(d.top)||0}}return g},yl=function(u,c){return c?pl(u):gl(u)},bl=function(u){var c=u.element,n=u.edges,g=u.elementRect,d=u.containerRect,w=u.elementPos,v=u.useTransform;n.includes("top")&&Le(c,{y:w.y+d.top-g.top,x:w.x},v),n.includes("left")&&Le(c,{y:w.y,x:w.x+d.left-g.left},v),n.includes("bottom")&&Le(c,{y:w.y+d.bottom-g.bottom,x:w.x},v),n.includes("right")&&Le(c,{y:w.y,x:w.x+d.right-g.right},v)},or=function(u){var c=u.computedStyle,n=u.node,g=c.position,d=g==="absolute"||g==="relative"||g==="fixed";!(n instanceof HTMLDocument)&&!d&&(n.style.position="relative")},wl=function(u){var c=u.shiftKey,n=u.keyboardDragSpeed,g=u.zoom,d=u.key,w=u.dragKeys,v=u.scrollDiff,_=u.canScroll,D=u.scrollCallback,C={x:0,y:0},V=c?n*4*g:n*g;return w.left.includes(d)&&(C.x=v.x||-V,!c&&!v.x&&_&&D(["left"],n)),w.right.includes(d)&&(C.x=v.x||V,!c&&!v.x&&_&&D(["right"],n)),w.up.includes(d)&&(C.y=v.y||-V,!c&&!v.y&&_&&D(["top"],n)),w.down.includes(d)&&(C.y=v.y||V,!c&&!v.y&&_&&D(["bottom"],n)),C},vl=function(u){var c=u.element,n=u.force,g=u.multiSelectionToggle,d=u.SelectedSet,w=u.hoverClassName;c.classList.contains(w)&&!n||(d.has(c)?g&&d.delete(c):d.add(c),c.classList.add(w))},kl=function(u){var c=u.element,n=u.force,g=u.SelectedSet,d=u.PrevSelectedSet,w=u.hoverClassName;if(!c.classList.contains(w)&&!n)return!1;var v=g.has(c),_=d.has(c);v&&!_?g.delete(c):!v&&_&&g.add(c),c.classList.remove(w)},bt=function(u,c){return u.left<c.right&&u.right>c.left&&u.top<c.bottom&&u.bottom>c.top},ar=function(u){var c=u.element,n=u.posDirection,g=u.containerRect,d=u.useTransform,w=yl(c,d),v=z(w,"+",n);Le(c,v,d);var _=c.getBoundingClientRect(),D=rr({elementRect:_,containerRect:g});bl({element:c,edges:D,elementRect:_,containerRect:g,elementPos:v,useTransform:d})},_l=function(u,c){window.removeEventListener("resize",c),window.removeEventListener("scroll",c),u.disconnect()},xl=function(u,c,n){if(!!c.length){var g=document&&document.documentElement&&document.documentElement.scrollTop&&document.documentElement,d=u instanceof HTMLDocument?g||document.body:u,w=c.includes("top")&&d.scrollTop>0,v=c.includes("bottom")&&d.scrollTop<d.scrollHeight,_=c.includes("left")&&d.scrollLeft>0,D=c.includes("right")&&d.scrollLeft<d.scrollWidth;w&&(d.scrollTop-=1*n),v&&(d.scrollTop+=1*n),_&&(d.scrollLeft-=1*n),D&&(d.scrollLeft+=1*n)}},Le=function(u,c,n){if(n){var g=u.style.transform;u.style.transform="translate3d(".concat(c.x,"px,").concat(c.y,"px,1px) ").concat(g.replace(/translate.*?\)/g,""))}else u.style.left="".concat(c.x,"px"),u.style.top="".concat(c.y,"px");return u},Sl=function(u){for(var c=u.subscribe,n=u.publish,g=u.Interaction,d=u.SelectedSet,w={"Selected:added":[{name:"elementselect"}],"Selected:removed":[{name:"elementunselect"}],"Area:scroll":[{name:"autoscroll"}],"Interaction:start":[{name:"dragstart"}],"Interaction:update":[{name:"dragmove",condition:function(V){return V.event}}],"Interaction:end":[{name:"callback"}]},v=function(){var V=P(D[_],2),T=V[0],L=V[1];["pre",!1].forEach(function(X){return c(X?"".concat(T,":").concat(X):T,function(ne){return L.forEach(function(J){return(!J.condition||J.condition(ne))&&n(X?"".concat(X).concat(J.name):J.name,m({items:d.elements,isDragging:g.isDragging},ne))})})})},_=0,D=Object.entries(w);_<D.length;_++)v()},Ee=function(u){return u?!Array.isArray(u)&&(u instanceof HTMLElement||u instanceof SVGElement)?[u]:H(u):[]},ir=function(u,c){u.style.left="".concat(c.left,"px"),u.style.top="".concat(c.top,"px"),u.style.width="".concat(c.width,"px"),u.style.height="".concat(c.height,"px")},Dl=function(){function u(c){var n=this,g=c.area,d=c.PS,w=c.zoom;r(this,u),a(this,"_modificationCallback",void 0),a(this,"_modificationObserver",void 0),a(this,"_zoom",void 0),a(this,"_node",void 0),a(this,"_parentNodes",void 0),a(this,"_computedStyle",void 0),a(this,"_computedBorder",void 0),a(this,"_rect",void 0),a(this,"setArea",function(v){n._node=v,or({computedStyle:n.computedStyle,node:n._node}),setTimeout(function(){n.PubSub.publish("Area:modified:pre",{item:n}),n.reset(),n.PubSub.publish("Area:modified",{item:n})})}),a(this,"start",function(){je(n.parentNodes,n._modificationCallback,n._modificationObserver)}),a(this,"reset",function(){n._computedStyle=void 0,n._rect=void 0,n._computedBorder=void 0,n._parentNodes=void 0}),a(this,"stop",function(){_l(n._modificationObserver,n._modificationCallback),n.reset()}),a(this,"scroll",function(v,_){var D={scroll_directions:v,scroll_multiplier:_};n.PubSub.publish("Area:scroll:pre",D),xl(n._node,v,_),n.PubSub.publish("Area:scroll",D)}),this._zoom=w,this.PubSub=d,this.setArea(g),this._modificationCallback=qe(function(v){n.PubSub.publish("Area:modified:pre",{event:v,item:n}),n.reset(),n.PubSub.publish("Area:modified",{event:v,item:n})},60),this._modificationObserver=new MutationObserver(this._modificationCallback),this.PubSub.subscribe("Interaction:init",this.start),this.PubSub.subscribe("Interaction:end",this.reset)}return s(u,[{key:"HTMLNode",get:function(){return this._node}},{key:"computedBorder",get:function(){return this._computedBorder?this._computedBorder:{top:parseInt(this.computedStyle.borderTopWidth),bottom:parseInt(this.computedStyle.borderBottomWidth),left:parseInt(this.computedStyle.borderLeftWidth),right:parseInt(this.computedStyle.borderRightWidth)}}},{key:"computedStyle",get:function(){return this._computedStyle?this._computedStyle:this.HTMLNode instanceof HTMLDocument?this._computedStyle=window.getComputedStyle(this.HTMLNode.body||this.HTMLNode.documentElement):this._computedStyle=window.getComputedStyle(this.HTMLNode)}},{key:"rect",get:function(){return this._rect?this._rect:this._rect=yt(this.HTMLNode,this._zoom)}},{key:"parentNodes",get:function(){if(this._parentNodes)return this._parentNodes;var n=function g(d){var w,v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,_=(w=d[v])===null||w===void 0?void 0:w.parentNode;return _?(d.push(_),v++,g(d,v)):d};return this._parentNodes=n([this.HTMLNode]),this._parentNodes}}]),u}(),El=function(){function u(c){var n=this,g=c.DS,d=c.dragKeys,w=c.draggability,v=c.keyboardDrag,_=c.keyboardDragSpeed,D=c.useTransform,C=c.zoom;r(this,u),a(this,"_useTransform",void 0),a(this,"_prevCursorPos",void 0),a(this,"_prevScrollPos",void 0),a(this,"_elements",[]),a(this,"_draggability",void 0),a(this,"_dragKeys",void 0),a(this,"_dragKeysFlat",void 0),a(this,"_keyboardDrag",void 0),a(this,"_keyboardDragSpeed",void 0),a(this,"_zoom",void 0),a(this,"keyboardDrag",function(V){var T=V.event,L=V.key;if(!(!n._keyboardDrag||!n._dragKeysFlat.includes(L)||!n.DS.SelectedSet.size||!n._draggability||n.DS.continue)){var X={event:T,isDragging:!0,isDraggingKeyboard:!0};n.DS.publish(["Interaction:start:pre","Interaction:start"],X),n._elements=n.DS.getSelection(),n.handleZIndex(!0);var ne=wl({shiftKey:n.DS.stores.KeyStore.currentValues.includes("shift"),keyboardDragSpeed:n._keyboardDragSpeed,zoom:n._zoom,key:L,scrollCallback:n.DS.Area.scroll,scrollDiff:n._scrollDiff,canScroll:n.DS.stores.ScrollStore.canScroll,dragKeys:n._dragKeys});n._elements.forEach(function(J){return ar({element:J,posDirection:ne,containerRect:n.DS.SelectorArea.rect,useTransform:n._useTransform})}),n.DS.publish(["Interaction:update:pre","Interaction:update"],X)}}),a(this,"keyboardEnd",function(V){var T=V.event,L=V.key;if(!(!n._keyboardDrag||!n._dragKeysFlat.includes(L)||!n.DS.SelectedSet.size||!n._draggability)){var X={event:T,isDragging:n._draggability,isDraggingKeyboard:!0};n.DS.publish(["Interaction:end:pre","Interaction:end"],X)}}),a(this,"start",function(V){var T=V.isDragging,L=V.isDraggingKeyboard;!T||L||(n._prevCursorPos=null,n._prevScrollPos=null,n._elements=n.DS.getSelection(),n.handleZIndex(!0))}),a(this,"stop",function(V){V!=null&&V.isKeyboard||(n._prevCursorPos=null,n._prevScrollPos=null,n.handleZIndex(!1),n._elements=[])}),a(this,"update",function(V){var T=V.isDragging,L=V.isDraggingKeyboard;if(!(!T||!n._elements.length||L||n.DS.continue)){var X=z(n._cursorDiff,"+",n._scrollDiff);n._elements.forEach(function(ne){return ar({element:ne,posDirection:X,containerRect:n.DS.SelectorArea.rect,useTransform:n._useTransform})})}}),a(this,"handleZIndex",function(V){n._elements.forEach(function(T){return T.style.zIndex="".concat((parseInt(T.style.zIndex)||0)+V?9999:-9998)})}),this.DS=g,this._useTransform=D,this._keyboardDragSpeed=_,this._keyboardDrag=v,this._zoom=C,this._draggability=w,this._dragKeys={up:d.up.map(function(V){return V.toLowerCase()}),down:d.down.map(function(V){return V.toLowerCase()}),left:d.left.map(function(V){return V.toLowerCase()}),right:d.right.map(function(V){return V.toLowerCase()})},this._dragKeysFlat=[].concat(H(this._dragKeys.up),H(this._dragKeys.down),H(this._dragKeys.left),H(this._dragKeys.right)),this.DS.subscribe("Interaction:start",this.start),this.DS.subscribe("Interaction:end",this.stop),this.DS.subscribe("Interaction:update",this.update),this.DS.subscribe("KeyStore:down",this.keyboardDrag),this.DS.subscribe("KeyStore:up",this.keyboardEnd)}return s(u,[{key:"_cursorDiff",get:function(){var n=this.DS.stores.PointerStore.currentVal,g=this._prevCursorPos?z(n,"-",this._prevCursorPos):{x:0,y:0};return this._prevCursorPos=n,g}},{key:"_scrollDiff",get:function(){var n=this.DS.stores.ScrollStore.currentVal,g=this._prevScrollPos?z(n,"-",this._prevScrollPos):{x:0,y:0};return this._prevScrollPos=n,g}}]),u}(),Nl=function(){function u(c){var n=this,g=c.DS,d=c.areaElement,w=c.draggability,v=c.immediateDrag,_=c.selectableClass;r(this,u),a(this,"_areaElement",void 0),a(this,"_draggability",void 0),a(this,"_immediateDrag",void 0),a(this,"_selectableClass",void 0),a(this,"isInteracting",void 0),a(this,"isDragging",void 0),a(this,"init",function(){return n.DS.publish("Interaction:init:pre",{})}),a(this,"_init",function(){n.stop(),n._areaElement.addEventListener("mousedown",n.start),n._areaElement.addEventListener("touchstart",n.start,{passive:!1}),n.DS.publish("Interaction:init",{})}),a(this,"start",function(D){return n.DS.publish("Interaction:start:pre",{event:D,isDragging:n.isDragging})}),a(this,"_start",function(D){D.type==="touchstart"&&D.preventDefault(),n._canInteract(D)&&(n.isInteracting=!0,n.isDragging=n.isDragEvent(D),n.DS.publish("Interaction:start",{event:D,isDragging:n.isDragging}),document.addEventListener("mouseup",n.reset),document.addEventListener("touchend",n.reset))}),a(this,"isDragEvent",function(D){var C=D.target.closest(".".concat(n._selectableClass));return!n._draggability||n.DS.stores.KeyStore.isMultiSelectKeyPressed(D)||!C?!1:(n._immediateDrag&&(n.DS.SelectedSet.size?n.DS.SelectedSet.has(C)||(n.DS.SelectedSet.clear(),n.DS.SelectedSet.add(C)):n.DS.SelectedSet.add(C)),!!n.DS.SelectedSet.has(C))}),a(this,"onClick",function(D){var C=D.event;if(!!n._canInteract(C)&&!(C.detail>0)){var V=n.DS,T=V.stores,L=T.PointerStore,X=T.KeyStore,ne=V.SelectableSet,J=V.SelectedSet;L.start(C);var Ne=C.target;!ne.has(Ne)||(X.isMultiSelectKeyPressed(C)||J.clear(),J.toggle(Ne),n.reset())}}),a(this,"stop",function(){n.isInteracting=!1,n.isDragging=!1,n._areaElement.removeEventListener("mousedown",n.start),n._areaElement.removeEventListener("touchstart",n.start,{passive:!1}),document.removeEventListener("mouseup",n.reset),document.removeEventListener("touchend",n.reset)}),a(this,"update",function(D){var C=D.event,V=D.scroll_directions,T=D.scroll_multiplier;n.isInteracting&&n.DS.publish(["Interaction:update:pre","Interaction:update"],{event:C,scroll_directions:V,scroll_multiplier:T,isDragging:n.isDragging})}),a(this,"reset",function(D){return n.DS.publish("Interaction:end:pre",{event:D,isDragging:n.isDragging})}),a(this,"_reset",function(D){var C=n.isDragging;n.stop(),n.init(),n.DS.publish("Interaction:end",{event:D,isDragging:C})}),this._areaElement=d,this._draggability=w,this._immediateDrag=v,this._selectableClass=_,this.DS=g,this.DS.subscribe("PointerStore:updated",this.update),this.DS.subscribe("Selectable:click",this.onClick),this.DS.subscribe("Selectable:pointer",function(D){var C=D.event;return n.start(C)}),this.DS.subscribe("Interaction:start:pre",function(D){var C=D.event;return n._start(C)}),this.DS.subscribe("Interaction:init:pre",this._init),this.DS.subscribe("Interaction:end:pre",function(D){var C=D.event;return n._reset(C)}),this.DS.subscribe("Area:scroll",this.update)}return s(u,[{key:"_canInteract",value:function(n){var g=n.clientX===0&&n.clientY===0&&n.detail===0&&n.target;return!(n.button===2||this.isInteracting||n.target&&!this.DS.SelectorArea.isInside(n.target)||!g&&!this.DS.SelectorArea.isClicked(n))}}]),u}(),Vl=function u(c){var n=this,g=c.DS;r(this,u),a(this,"subscribers",{}),a(this,"subscribe",function(d,w){return Array.isArray(n.subscribers[d])||(n.subscribers[d]=[]),n.subscribers[d].push(w),n.subscribers[d].length-1}),a(this,"unsubscribe",function(d,w,v){v>=0?n.subscribers[d].splice(v,1):w&&(n.subscribers[d]=n.subscribers[d].filter(function(_){return _!==w}))}),a(this,"publish",function(d,w){Array.isArray(d)?d.forEach(function(v){return n._publish(v,w)}):n._publish(d,w)}),a(this,"_publish",function(d,w){var v=n.subscribers[d];!Array.isArray(v)||(d.includes(":pre")?n._handlePrePublish(v,w):n._handlePublish(v,w))}),a(this,"_handlePublish",function(d,w){for(var v=0,_=d.length;v<_;v++){if(n.DS.stopped)return;d[v](w)}}),a(this,"_handlePrePublish",function(d,w){for(var v=d.length;v--;){if(n.DS.stopped)return;d[v](w)}}),this.DS=g},Cl=function(u){p(n,u);var c=I(n);function n(g){var d,w=g.elements,v=g.className,_=g.hoverClassName,D=g.draggability,C=g.useTransform,V=g.DS;return r(this,n),d=c.call(this),a(x(d),"_initElements",void 0),a(x(d),"_className",void 0),a(x(d),"_hoverClassName",void 0),a(x(d),"_useTransform",void 0),a(x(d),"_draggability",void 0),a(x(d),"init",function(){return d._initElements.forEach(function(T){return d.add(T)})}),a(x(d),"clear",function(){return d.forEach(function(T){return d.delete(T)})}),a(x(d),"_onClick",function(T){return d.DS.publish(["Selectable:click:pre","Selectable:click"],{event:T})}),a(x(d),"_onPointer",function(T){return d.DS.publish(["Selectable:pointer:pre","Selectable:pointer"],{event:T})}),a(x(d),"addAll",function(T){return T.forEach(function(L){return d.add(L)})}),a(x(d),"deleteAll",function(T){return T.forEach(function(L){return d.delete(L)})}),d.DS=V,d._initElements=Ee(w),d._className=v,d._hoverClassName=_,d._useTransform=C,d._draggability=D,d.DS.subscribe("Interaction:init",d.init),d}return s(n,[{key:"add",value:function(d){return d.classList.add(this._className),d.addEventListener("click",this._onClick),d.addEventListener("mousedown",this._onPointer),d.addEventListener("touchstart",this._onPointer,{passive:!1}),this._draggability&&!this._useTransform&&or({computedStyle:window.getComputedStyle(d),node:d}),N(f(n.prototype),"add",this).call(this,d)}},{key:"delete",value:function(d){return d.classList.remove(this._className),d.classList.remove(this._hoverClassName),d.removeEventListener("click",this._onClick),d.removeEventListener("mousedown",this._onPointer),d.removeEventListener("touchstart",this._onPointer,{passive:!1}),N(f(n.prototype),"delete",this).call(this,d)}},{key:"elements",get:function(){return Array.from(this.values())}}]),n}(k(Set)),$l=function(u){p(n,u);var c=I(n);function n(g){var d,w=g.className,v=g.DS;return r(this,n),d=c.call(this),a(x(d),"_className",void 0),a(x(d),"clear",function(){return d.forEach(function(_){return d.delete(_)})}),a(x(d),"addAll",function(_){return _.forEach(function(D){return d.add(D)})}),a(x(d),"deleteAll",function(_){return _.forEach(function(D){return d.delete(D)})}),d.DS=v,d._className=w,d}return s(n,[{key:"add",value:function(d){if(!N(f(n.prototype),"has",this).call(this,d)){var w={items:this.elements,item:d};return this.DS.publish("Selected:added:pre",w),N(f(n.prototype),"add",this).call(this,d),d.classList.add(this._className),d.style.zIndex="".concat((parseInt(d.style.zIndex)||0)+1),this.DS.publish("Selected:added",w),this}}},{key:"delete",value:function(d){if(!!N(f(n.prototype),"has",this).call(this,d)){var w={items:this.elements,item:d};this.DS.publish("Selected:removed:pre",w);var v=N(f(n.prototype),"delete",this).call(this,d);return d.classList.remove(this._className),d.style.zIndex="".concat((parseInt(d.style.zIndex)||0)-1),this.DS.publish("Selected:removed",w),v}}},{key:"toggle",value:function(d){return this.has(d)?this.delete(d):this.add(d),d}},{key:"elements",get:function(){return Array.from(this.values())}}]),n}(k(Set)),Ml=function(){function u(c){var n=this,g=c.DS,d=c.hoverClassName,w=c.multiSelectToggling;r(this,u),a(this,"_prevSelectedSet",void 0),a(this,"_hoverClassName",void 0),a(this,"_multiSelectToggling",void 0),a(this,"start",function(v){var _=v.event,D=v.isDragging;D||(n._storePrevious(_),n._handleInsideSelection(!0,_))}),a(this,"update",function(v){var _=v.isDragging;_||n.DS.continue||n._handleInsideSelection()}),a(this,"_handleInsideSelection",function(v,_){for(var D=n.DS,C=D.SelectableSet,V=D.SelectorArea,T=D.Selector,L=C.elements.map(function(fe){return[fe,fe.getBoundingClientRect()]}),X=[],ne=[],J=0,Ne=L.length;J<Ne;J++)!V.isInside(L[J][0],L[J][1])||(bt(L[J][1],T.rect)?X.push(L[J][0]):ne.push(L[J][0]));var Ge=n.DS.stores.KeyStore.isMultiSelectKeyPressed(_)&&n._multiSelectToggling;n.DS.continue||(X.forEach(function(fe){return vl({element:fe,force:v,multiSelectionToggle:Ge,SelectedSet:n.DS.SelectedSet,hoverClassName:n._hoverClassName})}),ne.forEach(function(fe){return kl({element:fe,force:v,SelectedSet:n.DS.SelectedSet,hoverClassName:n._hoverClassName,PrevSelectedSet:n._prevSelectedSet})}))}),this._hoverClassName=d,this._multiSelectToggling=w,this.DS=g,this.DS.subscribe("Interaction:start",this.start),this.DS.subscribe("Interaction:update",this.update)}return s(u,[{key:"_storePrevious",value:function(n){var g=this.DS,d=g.stores.KeyStore,w=g.SelectedSet;d.isMultiSelectKeyPressed(n)?this._prevSelectedSet=new Set(w):this._prevSelectedSet=new Set}}]),u}(),Bl=function(){function u(c){var n=this,g=c.DS,d=c.selector,w=c.selectorClass,v=c.customStyles;r(this,u),a(this,"_rect",void 0),a(this,"start",function(_){var D=_.isDragging;if(!D){var C=n.DS.stores.PointerStore,V=C.initialValArea;ir(n.HTMLNode,G(V,1)),n.HTMLNode.style.display="block",n._rect=null}}),a(this,"stop",function(){n.HTMLNode.style.width="0",n.HTMLNode.style.height="0",n.HTMLNode.style.display="none"}),a(this,"update",function(_){var D=_.isDragging;if(!(D||n.DS.continue)){var C=n.DS.stores,V=C.ScrollStore,T=C.PointerStore,L=fl({scrollAmount:V.scrollAmount,initialPointerPos:T.initialValArea,pointerPos:T.currentValArea});ir(n.HTMLNode,L),n._rect=null}}),this.DS=g,this.HTMLNode=d||Xe(v),this.HTMLNode.classList.add(w),this.DS.subscribe("Interaction:start",this.start),this.DS.subscribe("Interaction:update",this.update),this.DS.subscribe("Interaction:end",this.stop)}return s(u,[{key:"rect",get:function(){return this._rect?this._rect:this._rect=this.HTMLNode.getBoundingClientRect()}}]),u}(),Tl=function(){function u(c){var n=this,g=c.DS,d=c.selectorAreaClass,w=c.autoScrollSpeed,v=c.overflowTolerance;r(this,u),a(this,"_autoScrollSpeed",void 0),a(this,"_scrollInterval",void 0),a(this,"_rect",void 0),a(this,"currentEdges",[]),a(this,"_overflowTolerance",void 0),a(this,"start",function(){return n.applyElements("append")}),a(this,"applyElements",function(){var _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"append",D=document.body?"body":"documentElement",C="".concat(_,"Child");n.HTMLNode[C](n.DS.Selector.HTMLNode),document[D][C](n.HTMLNode)}),a(this,"updatePos",function(){n._rect=null;var _=n.DS.Area.rect,D=n.DS.Area.computedBorder,C=n.HTMLNode.style,V="".concat(_.top+D.top,"px"),T="".concat(_.left+D.left,"px"),L="".concat(_.width,"px"),X="".concat(_.height,"px");C.top!==V&&(C.top=V),C.left!==T&&(C.left=T),C.width!==L&&(C.width=L),C.height!==X&&(C.height=X)}),a(this,"stop",function(_){n.stopAutoScroll(),_&&n.applyElements("remove")}),a(this,"startAutoScroll",function(){n.currentEdges=[],n._scrollInterval=setInterval(function(){return n.handleAutoScroll()},16)}),a(this,"handleAutoScroll",function(){if(!n.DS.continue){var _=n.DS,D=_.stores.PointerStore,C=_.Area;n.currentEdges=rr({elementRect:G(D.currentVal),containerRect:n.rect,tolerance:n._overflowTolerance}),n.currentEdges.length&&C.scroll(n.currentEdges,n._autoScrollSpeed)}}),a(this,"stopAutoScroll",function(){n.currentEdges=[],clearInterval(n._scrollInterval)}),a(this,"isInside",function(_,D){return n.DS.Area.HTMLNode.contains(_)&&n.DS.stores.ScrollStore.canScroll?!0:bt(n.rect,D||_.getBoundingClientRect())}),this._autoScrollSpeed=w,this._overflowTolerance=v,this.DS=g,this.HTMLNode=We(d),this.DS.subscribe("Area:modified",this.updatePos),this.DS.subscribe("Interaction:init",this.start),this.DS.subscribe("Interaction:start",this.startAutoScroll),this.DS.subscribe("Interaction:end",function(){n.updatePos(),n.stopAutoScroll()})}return s(u,[{key:"isClicked",value:function(n){var g=this.DS.stores.PointerStore,d=n?g.getPointerPosition(n):g.initialVal;return bt({left:d.x,top:d.y,right:d.x,bottom:d.y},this.rect)}},{key:"rect",get:function(){return this._rect?this._rect:this._rect=this.HTMLNode.getBoundingClientRect()}}]),u}(),Al=function(){function u(c){var n=this,g=c.DS,d=c.multiSelectKeys,w=c.multiSelectMode;r(this,u),a(this,"_multiSelectMode",void 0),a(this,"_multiSelectKeys",void 0),a(this,"_currentValues",new Set),a(this,"_keyMapping",{control:"ctrlKey",shift:"shiftKey",meta:"metaKey"}),a(this,"init",function(){document.addEventListener("keydown",n.keydown),document.addEventListener("keyup",n.keyup),window.addEventListener("blur",n.reset)}),a(this,"keydown",function(v){var _=v.key.toLowerCase();n.DS.publish("KeyStore:down:pre",{event:v,key:_}),n._currentValues.add(_),n.DS.publish("KeyStore:down",{event:v,key:_})}),a(this,"keyup",function(v){var _=v.key.toLowerCase();n.DS.publish("KeyStore:up:pre",{event:v,key:_}),n._currentValues.delete(_),n.DS.publish("KeyStore:up",{event:v,key:_})}),a(this,"stop",function(){document.removeEventListener("keydown",n.keydown),document.removeEventListener("keyup",n.reset),window.removeEventListener("blur",n.reset),n.reset()}),a(this,"reset",function(){return n._currentValues.clear()}),this.DS=g,this._multiSelectMode=w,this._multiSelectKeys=d.map(function(v){var _={ctrlKey:"Control",shiftKey:"Shift",metaKey:"Meta"},D=_[v];return D?(console.warn("[DragSelect] ".concat(v,' is deprecated. Use "').concat(D,'" instead. Act Now!. See docs for more info')),D.toLowerCase()):v.toLowerCase()}),this.DS.subscribe("Interaction:init",this.init)}return s(u,[{key:"isMultiSelectKeyPressed",value:function(n){var g=this;return!!(this._multiSelectMode||this.currentValues.some(function(d){return g._multiSelectKeys.includes(d)})||n&&this._multiSelectKeys.some(function(d){return n[g._keyMapping[d]]}))}},{key:"currentValues",get:function(){return Array.from(this._currentValues.values())}}]),u}(),Ol=function(){function u(c){var n=this,g=c.DS;r(this,u),a(this,"_isMouseInteraction",!1),a(this,"_initialValArea",void 0),a(this,"_currentValArea",void 0),a(this,"_lastValArea",void 0),a(this,"_initialVal",void 0),a(this,"_currentVal",void 0),a(this,"_lastVal",void 0),a(this,"_lastTouch",void 0),a(this,"init",function(){document.addEventListener("mousemove",n.update),document.addEventListener("touchmove",n.update,{passive:!1})}),a(this,"getPointerPosition",function(d){return ml({event:n._normalizedEvent(d)})}),a(this,"update",function(d){!d||(n.DS.publish("PointerStore:updated:pre",{event:d}),n.currentVal=n.getPointerPosition(d),n._isMouseInteraction&&n.DS.publish("PointerStore:updated",{event:d}))}),a(this,"stop",function(){document.removeEventListener("mousemove",n.update),document.removeEventListener("touchmove",n.update,{passive:!1}),setTimeout(function(){return n._isMouseInteraction=!1},100)}),a(this,"reset",function(d){!d||(n.currentVal=n.lastVal=n.getPointerPosition(d),n.stop(),n.init())}),this.DS=g,this.DS.subscribe("Interaction:init",this.init),this.DS.subscribe("Interaction:start",function(d){var w=d.event;return n.start(w)}),this.DS.subscribe("Interaction:end",function(d){var w=d.event;return n.reset(w)})}return s(u,[{key:"start",value:function(n){!n||(this._isMouseInteraction=!0,this.currentVal=this.initialVal=this.getPointerPosition(n))}},{key:"_normalizedEvent",value:function(n){return"touches"in n&&n.type!=="touchend"&&(this._lastTouch=n),"touches"in n?this._lastTouch.touches[0]:n}},{key:"initialValArea",get:function(){return this._initialValArea?this._initialValArea:{x:0,y:0}}},{key:"currentValArea",get:function(){return this._currentValArea?this._currentValArea:{x:0,y:0}}},{key:"lastValArea",get:function(){return this._lastValArea?this._lastValArea:{x:0,y:0}}},{key:"initialVal",get:function(){return this._initialVal?this._initialVal:{x:0,y:0}},set:function(n){this._initialVal=n,this._initialValArea=n&&z(n,"-",z(j(this.DS.Area.rect),"+",j(this.DS.Area.computedBorder)))}},{key:"currentVal",get:function(){return this._currentVal?this._currentVal:{x:0,y:0}},set:function(n){this._currentVal=n,this._currentValArea=n&&z(n,"-",z(j(this.DS.Area.rect),"+",j(this.DS.Area.computedBorder)))}},{key:"lastVal",get:function(){return this._lastVal?this._lastVal:{x:0,y:0}},set:function(n){this._lastVal=n,this._lastValArea=n&&z(n,"-",z(j(this.DS.Area.rect),"+",j(this.DS.Area.computedBorder)))}}]),u}(),jl=function(){function u(c){var n=this,g=c.DS,d=c.areaElement,w=c.zoom;r(this,u),a(this,"_initialVal",void 0),a(this,"_currentVal",void 0),a(this,"_areaElement",void 0),a(this,"_canScroll",void 0),a(this,"init",function(){return n._areaElement.addEventListener("scroll",n.update)}),a(this,"start",function(){n._currentVal=n._initialVal=De(n._areaElement),n._areaElement.addEventListener("scroll",n.update)}),a(this,"update",function(){return n._currentVal=De(n._areaElement)}),a(this,"stop",function(){n._areaElement.removeEventListener("scroll",n.update),n._initialVal={x:0,y:0},n._canScroll=null}),a(this,"reset",function(){n.stop(),n.start()}),this._areaElement=d,this.DS=g,this.zoom=w,this.DS.subscribe("Interaction:init",this.init),this.DS.subscribe("Interaction:start",function(){return n.start()}),this.DS.subscribe("Interaction:end",function(){return n.reset()})}return s(u,[{key:"canScroll",get:function(){return typeof this._canScroll=="boolean"?this._canScroll:this._canScroll=Pe(this._areaElement)}},{key:"scrollAmount",get:function(){var n=z(this.currentVal,"-",this.initialVal),g=U(this.zoom),d=z(z(n,"*",g),"-",n);return{x:n.x+d.x,y:n.y+d.y}}},{key:"initialVal",get:function(){return this._initialVal?this._initialVal:{x:0,y:0}}},{key:"currentVal",get:function(){return this._currentVal||(this._currentVal=De(this._areaElement)),this._currentVal}}]),u}(),Pl=function(){function u(c){var n=this,g=c.area,d=g===void 0?document:g,w=c.selectables,v=w===void 0?[]:w,_=c.autoScrollSpeed,D=_===void 0?5:_,C=c.overflowTolerance,V=C===void 0?{x:25,y:25}:C,T=c.zoom,L=T===void 0?1:T,X=c.customStyles,ne=X===void 0?!1:X,J=c.multiSelectMode,Ne=J===void 0?!1:J,Ge=c.multiSelectToggling,fe=Ge===void 0?!0:Ge,sr=c.multiSelectKeys,Ll=sr===void 0?["Control","Shift","Meta"]:sr,lr=c.selector,Il=lr===void 0?void 0:lr,cr=c.draggability,wt=cr===void 0?!0:cr,dr=c.immediateDrag,zl=dr===void 0?!0:dr,hr=c.keyboardDrag,Rl=hr===void 0?!0:hr,Hl=c.dragKeys,ur=c.keyboardDragSpeed,Fl=ur===void 0?10:ur,mr=c.useTransform,fr=mr===void 0?!0:mr,pr=c.hoverClass,gr=pr===void 0?"ds-hover":pr,yr=c.selectableClass,br=yr===void 0?"ds-selectable":yr,wr=c.selectedClass,Ul=wr===void 0?"ds-selected":wr,vr=c.selectorClass,Kl=vr===void 0?"ds-selector":vr,kr=c.selectorAreaClass,Yl=kr===void 0?"ds-selector-area":kr,Wl=c.callback,Xl=c.onDragMove,ql=c.onDragStartBegin,Gl=c.onDragStart,Jl=c.onElementSelect,Zl=c.onElementUnselect;r(this,u),a(this,"continue",!1),a(this,"start",function(){n.stopped=!1,n.Interaction.init()}),a(this,"break",function(){return n.continue=!0}),a(this,"getSelection",function(){return n.SelectedSet.elements}),a(this,"getSelectables",function(){return n.SelectableSet.elements}),a(this,"getInitialCursorPosition",function(){return n.stores.PointerStore.initialVal}),a(this,"getCurrentCursorPosition",function(){return n.stores.PointerStore.currentVal}),a(this,"getPreviousCursorPosition",function(){return n.stores.PointerStore.lastVal}),a(this,"getInitialCursorPositionArea",function(){return n.stores.PointerStore.initialValArea}),a(this,"getCurrentCursorPositionArea",function(){return n.stores.PointerStore.currentValArea}),a(this,"getPreviousCursorPositionArea",function(){return n.stores.PointerStore.lastValArea}),a(this,"isMultiSelect",function(Ql){return n.stores.KeyStore.isMultiSelectKeyPressed(Ql)}),a(this,"isDragging",function(){return n.Interaction.isDragging}),this.PubSub=new Vl({DS:this}),this.subscribe=this.PubSub.subscribe,this.unsubscribe=this.PubSub.unsubscribe,this.publish=this.PubSub.publish,this._callbacksTemp({callback:Wl,onDragMove:Xl,onDragStart:Gl,onDragStartBegin:ql,onElementSelect:Jl,onElementUnselect:Zl}),this.stores={PointerStore:new Ol({DS:this}),ScrollStore:new jl({DS:this,areaElement:d,zoom:L}),KeyStore:new Al({DS:this,multiSelectKeys:Ll,multiSelectMode:Ne})},this.Area=new Dl({area:d,PS:this.PubSub,zoom:L}),this.Selector=new Bl({DS:this,selector:Il,selectorClass:Kl,customStyles:ne}),this.SelectorArea=new Tl({DS:this,selectorAreaClass:Yl,autoScrollSpeed:D,overflowTolerance:V}),this.SelectableSet=new Cl({elements:v,DS:this,className:br,hoverClassName:gr,useTransform:fr,draggability:wt}),this.SelectedSet=new $l({DS:this,className:Ul}),this.Selection=new Ml({DS:this,hoverClassName:gr,multiSelectToggling:fe}),this.Drag=new El({DS:this,draggability:wt,useTransform:fr,keyboardDrag:Rl,dragKeys:Object.assign({up:["ArrowUp"],down:["ArrowDown"],left:["ArrowLeft"],right:["ArrowRight"]},Hl),zoom:L,keyboardDragSpeed:Fl}),this.Interaction=new Nl({areaElement:d,DS:this,draggability:wt,immediateDrag:zl,selectableClass:br}),Sl({subscribe:this.subscribe,publish:this.publish,SelectedSet:this.SelectedSet,Interaction:this.Interaction}),this.subscribe("Interaction:end",function(){return n.continue=!1}),this.start()}return s(u,[{key:"_callbacksTemp",value:function(n){var g=n.callback,d=n.onDragMove,w=n.onDragStart,v=n.onDragStartBegin,_=n.onElementSelect,D=n.onElementUnselect,C=function(T,L){return console.warn("[DragSelect] ".concat(T,' is deprecated. Use DragSelect.subscribe("').concat(L,'", (callbackObject) => {}) instead. Act Now! See docs for more info'))};g&&(C("callback","callback"),this.subscribe("callback",function(V){var T=V.items;V.item;var L=V.event;return g(T,L)})),d&&(C("onDragMove","dragmove"),this.subscribe("dragmove",function(V){V.items,V.item;var T=V.event;return d(T)})),w&&(C("onDragStart","dragstart"),this.subscribe("dragstart",function(V){V.items,V.item;var T=V.event;return w(T)})),v&&(C("onDragStartBegin","dragstart"),this.subscribe("dragstart",function(V){V.items,V.item;var T=V.event;return v(T)})),_&&(C("onElementSelect","elementselect"),this.subscribe("elementselect",function(V){V.items;var T=V.item,L=V.event;return _(T,L)})),D&&(C("onElementUnselect","elementunselect"),this.subscribe("elementunselect",function(V){V.items;var T=V.item,L=V.event;return D(T,L)}))}},{key:"stop",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;d&&this.publish("callback",{items:this.getSelection()}),this.Interaction.stop(),this.Area.stop(),this.Drag.stop(),this.Selector.stop(),this.SelectorArea.stop(n),this.stores.KeyStore.stop(),this.stores.PointerStore.stop(),this.stores.ScrollStore.stop(),n&&this.SelectableSet.clear(),g&&this.SelectedSet.clear(),this.stopped=!0}},{key:"addSelection",value:function(n){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return this.SelectedSet.addAll(Ee(n)),d||this.addSelectables(n),g&&this.PubSub.publish("callback",{items:this.getSelection()}),this.getSelection()}},{key:"removeSelection",value:function(n){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return this.SelectedSet.deleteAll(Ee(n)),d&&this.removeSelectables(n),g&&this.PubSub.publish("callback",{items:this.getSelection()}),this.getSelection()}},{key:"toggleSelection",value:function(n){var g=this,d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,w=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return Ee(n).forEach(function(v){return g.SelectedSet.has(v)?g.removeSelection(n,d,w):g.addSelection(n,d,w)}),d&&this.PubSub.publish("callback",{items:this.getSelection()}),this.getSelection()}},{key:"setSelection",value:function(n){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return this.clearSelection(),this.addSelection(n,g,d),this.getSelection()}},{key:"clearSelection",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return this.SelectedSet.clear(),n&&this.PubSub.publish("callback",{items:this.getSelection()}),this.getSelection()}},{key:"addSelectables",value:function(n){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,d=Ee(n);return this.SelectableSet.addAll(d),g&&this.SelectedSet.addAll(d),n}},{key:"setSelectables",value:function(n){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return this.removeSelectables(n,g),this.addSelectables(n,d)}},{key:"removeSelectables",value:function(n){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return this.SelectableSet.deleteAll(Ee(n)),g&&this.removeSelection(n),n}},{key:"getCursorPositionDifference",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;console.warn("[DragSelect] Using .getCursorPositionDifference is deprecated. Calculate yourself instead. i.e. `.getCurrentCursorPosition().x - .getInitialCursorPosition().x`");var d=g?this.getCurrentCursorPositionArea():this.getCurrentCursorPosition(),w=n?g?this.getPreviousCursorPositionArea():this.getPreviousCursorPosition():g?this.getInitialCursorPositionArea():this.getInitialCursorPosition();return z(d,"-",w)}}]),u}();return Pl})})(kt);const rn=kt.exports,_t=(i,t,r,o,s)=>(t=Math,r=t.log,o=1024,s=r(i)/r(o)|0,i/t.pow(o,s)).toFixed(0)+" "+(s?"KMGTPEZY"[--s]+"iB":"B"),xt=(i,t=null)=>{var r;return new Date(i*1e3).toLocaleString((r=t!=null?t:navigator.language)!=null?r:"en-US")},nn={key:0,xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor"},on=[e.createElementVNode("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"},null,-1)],an={key:1,xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor"},sn=[e.createElementVNode("path",{"fill-rule":"evenodd",d:"M14.707 12.707a1 1 0 01-1.414 0L10 9.414l-3.293 3.293a1 1 0 01-1.414-1.414l4-4a1 1 0 011.414 0l4 4a1 1 0 010 1.414z","clip-rule":"evenodd"},null,-1)],Re=Object.assign({name:"VFSortIcon"},{props:{direction:String},setup(i){return(t,r)=>(e.openBlock(),e.createElementBlock("div",null,[i.direction=="down"?(e.openBlock(),e.createElementBlock("svg",nn,on)):e.createCommentVNode("",!0),i.direction=="up"?(e.openBlock(),e.createElementBlock("svg",an,sn)):e.createCommentVNode("",!0)]))}}),ln=["onClick"],cn=Object.assign({name:"VFToast.vue"},{setup(i){const t=e.inject("emitter"),{getStore:r}=e.inject("storage"),o=e.ref(r("full-screen",!1)),s=p=>p=="error"?"text-red-400 border-red-400 dark:text-red-300 dark:border-red-300":"text-lime-600 border-lime-600 dark:text-lime-300 dark:border-lime-1300",a=e.ref([]),l=p=>{a.value.splice(p,1)},m=p=>{let f=a.value.findIndex(h=>h.id===p);f!==-1&&l(f)};return t.on("vf-toast-clear",()=>{a.value=[]}),t.on("vf-toast-push",p=>{let f=new Date().getTime().toString(36).concat(performance.now().toString(),Math.random().toString()).replace(/\./g,"");p.id=f,a.value.push(p),setTimeout(()=>{m(f)},5e3)}),(p,f)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass([o.value.value?"fixed":"absolute","bottom-0 max-w-fit flex flex-col bottom-0 left-1/2 -translate-x-1/2"])},[e.createVNode(e.TransitionGroup,{name:"vf-toast-item","leave-active-class":"transition-all duration-1000","leave-to-class":"opacity-0"},{default:e.withCtx(()=>[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(a.value,(h,y)=>(e.openBlock(),e.createElementBlock("div",{onClick:b=>l(y),key:h,class:e.normalizeClass([s(h.type),"inline-block mx-auto my-0.5 py-0.5 px-2 min-w-max bg-gray-50 dark:bg-gray-600 border text-xs sm:text-sm rounded cursor-pointer"])},e.toDisplayString(h.label),11,ln))),128))]),_:1})],2))}}),pe=i=>Object.entries(i).map(t=>t.map(encodeURIComponent).join("=")).join("&"),{apiUrl:dn}=ie(),Qe=(i,t)=>dn.value+"?"+pe({q:"preview",adapter:i,path:t}),hn={class:"relative flex-auto flex flex-col overflow-hidden"},un={key:0,class:"grid grid-cols-12 border-b border-neutral-300 border-gray-200 dark:border-gray-700 text-xs select-none"},mn={class:"absolute"},fn=e.createElementVNode("svg",{xmlns:"http://www.w3.org/2000/svg",class:"absolute h-6 w-6 md:h-12 md:w-12 m-auto stroke-neutral-500 fill-white dark:fill-gray-700 dark:stroke-gray-600 z-10",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"1"},[e.createElementVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z"})],-1),pn={class:"text-neutral-700 dark:text-neutral-300 p-1 absolute text-center top-4 right-[-2rem] md:top-5 md:right-[-2.4rem] z-20 text-xs"},gn=["onDblclick","onContextmenu","data-type","data-item","data-index"],yn={class:"grid grid-cols-12 items-center"},bn={class:"flex col-span-7 items-center"},wn={key:0,xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 text-neutral-500 fill-sky-500 stroke-sky-500 dark:fill-slate-500 dark:stroke-slate-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"1"},vn=[e.createElementVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z"},null,-1)],kn={key:1,xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 text-neutral-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"1"},_n=[e.createElementVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z"},null,-1)],xn={class:"overflow-ellipsis overflow-hidden whitespace-nowrap"},Sn={class:"col-span-5 overflow-ellipsis overflow-hidden whitespace-nowrap"},Dn=["onDblclick","onContextmenu","onDragstart","onDragover","onDrop","data-type","data-item","data-index"],En={class:"grid grid-cols-12 items-center"},Nn={class:"flex col-span-7 items-center"},Vn={key:0,xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 text-neutral-500 fill-sky-500 stroke-sky-500 dark:fill-slate-500 dark:stroke-slate-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"1"},Cn=[e.createElementVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z"},null,-1)],$n={key:1,xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 text-neutral-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"1"},Mn=[e.createElementVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z"},null,-1)],Bn={class:"overflow-ellipsis overflow-hidden whitespace-nowrap"},Tn={class:"col-span-2 text-center"},An={class:"col-span-3 overflow-ellipsis overflow-hidden whitespace-nowrap"},On=["onDblclick","onContextmenu","onDragstart","onDragover","onDrop","data-type","data-item","data-index"],jn={class:"relative"},Pn={key:0,xmlns:"http://www.w3.org/2000/svg",class:"h-10 w-10 md:h-12 md:w-12 m-auto fill-sky-500 stroke-sky-500 dark:fill-slate-500 dark:stroke-slate-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"1"},Ln=[e.createElementVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z"},null,-1)],In=["src"],zn={key:2,xmlns:"http://www.w3.org/2000/svg",class:"h-10 w-10 md:h-12 md:w-12 m-auto text-neutral-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"1"},Rn=[e.createElementVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z"},null,-1)],Hn={key:3,class:"absolute hidden md:block top-1/2 w-full text-center text-neutral-500"},Fn={class:"break-all"},Un=Object.assign({name:"VFExplorer"},{props:{view:String,data:Object,search:Object},setup(i){const t=i,r=e.inject("emitter"),{setStore:o,getStore:s}=e.inject("storage"),a=$=>$==null?void 0:$.substring(0,3),l=$=>$.replace(/((?=([\w\W]{0,14}))([\w\W]{8,})([\w\W]{8,}))/,"$2..$4"),m=e.ref(null),p=e.ref(null),f=e.ref(0),h=e.ref(null),{t:y}=e.inject("i18n"),b=Math.floor(Math.random()*2**32),E=e.ref(s("full-screen",!1));r.on("vf-fullscreen-toggle",()=>{E.value=!E.value,o("full-screen",E.value)});const k=e.ref("");r.on("vf-search-query",({newQuery:$})=>{k.value=$,$?r.emit("vf-fetch",{params:{q:"search",adapter:t.data.adapter,path:t.data.dirname,filter:$},onSuccess:A=>{A.files.length||r.emit("vf-toast-push",{label:y("No search result found.")})}}):r.emit("vf-fetch",{params:{q:"index",adapter:t.data.adapter,path:t.data.dirname}})});let x=null;const M=()=>{x&&clearTimeout(x)},I=$=>{x=setTimeout(()=>{const A=new MouseEvent("contextmenu",{bubbles:!0,cancelable:!1,view:window,button:2,buttons:0,clientX:$.target.getBoundingClientRect().x,clientY:$.target.getBoundingClientRect().y});$.target.dispatchEvent(A)},500)},O=$=>{$.type=="dir"?(r.emit("vf-search-exit"),r.emit("vf-fetch",{params:{q:"index",adapter:t.data.adapter,path:$.path}})):r.emit("vf-modal-show",{type:"preview",adapter:t.data.adapter,item:$})},N=e.reactive({active:!1,column:"",order:""}),P=($=!0)=>{let A=[...t.data.files],B=N.column,z=N.order=="asc"?1:-1;if(!$)return A;const j=(G,U)=>typeof G=="string"&&typeof U=="string"?G.toLowerCase().localeCompare(U.toLowerCase()):G<U?-1:G>U?1:0;return N.active&&(A=A.slice().sort((G,U)=>j(G[B],U[B])*z)),A},H=$=>{N.active&&N.column==$?(N.active=N.order=="asc",N.column=$,N.order="desc"):(N.active=!0,N.column=$,N.order="asc")},S=()=>h.value.getSelection().map($=>JSON.parse($.dataset.item)),F=($,A)=>{if($.altKey||$.ctrlKey||$.metaKey)return $.preventDefault(),!1;$.dataTransfer.setDragImage(p.value,0,15),$.dataTransfer.effectAllowed="all",$.dataTransfer.dropEffect="copy",$.dataTransfer.setData("items",JSON.stringify(S()))},W=($,A)=>{$.preventDefault();let B=JSON.parse($.dataTransfer.getData("items"));if(B.find(z=>z.storage!=s("adapter","local"))){alert("Moving items between different storages is not supported yet.");return}r.emit("vf-modal-show",{type:"move",items:{from:B,to:A}})},Q=($,A)=>{$.preventDefault(),!A||A.type!=="dir"||h.value.getSelection().find(B=>B==$.currentTarget)?($.dataTransfer.dropEffect="none",$.dataTransfer.effectAllowed="none"):$.dataTransfer.dropEffect="copy"},re=()=>{h.value=new rn({area:m.value,keyboardDrag:!1,selectedClass:"vf-explorer-selected",selectorClass:"vf-explorer-selector"}),r.on("vf-explorer-update",()=>e.nextTick(()=>{h.value.clearSelection(),h.value.setSelectables(document.getElementsByClassName("vf-item-"+b))})),h.value.subscribe("predragstart",({event:$,isDragging:A})=>{if(A)f.value=h.value.getSelection().length,h.value.break();else{const B=$.target.offsetWidth-$.offsetX,z=$.target.offsetHeight-$.offsetY;B<15&&z<15&&(h.value.clearSelection(),h.value.break())}}),h.value.subscribe("predragmove",({isDragging:$})=>{$&&h.value.break()}),h.value.subscribe("callback",({items:$,event:A,isDragging:B})=>{r.emit("vf-nodes-selected",S()),f.value=h.value.getSelection().length})};return e.onMounted(re),e.onUpdated(()=>{h.value.setSelection(h.value.getSelection())}),e.onMounted(()=>{e.watch(()=>t.view,()=>r.emit("vf-explorer-update"))}),($,A)=>(e.openBlock(),e.createElementBlock("div",hn,[i.view=="list"||k.value.length?(e.openBlock(),e.createElementBlock("div",un,[e.createElementVNode("div",{onClick:A[0]||(A[0]=B=>H("basename")),class:"col-span-7 py-1 leading-6 hover:bg-neutral-100 bg-neutral-50 dark:bg-gray-800 dark:hover:bg-gray-700/10 flex items-center pl-1"},[e.createTextVNode(e.toDisplayString(e.unref(y)("Name"))+" ",1),e.withDirectives(e.createVNode(Re,{direction:N.order=="asc"?"down":"up"},null,8,["direction"]),[[e.vShow,N.active&&N.column=="basename"]])]),k.value.length?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("div",{key:0,onClick:A[1]||(A[1]=B=>H("file_size")),class:"col-span-2 py-1 leading-6 hover:bg-neutral-100 bg-neutral-50 dark:bg-gray-800 dark:hover:bg-gray-700/10 flex items-center justify-center border-l border-r dark:border-gray-700"},[e.createTextVNode(e.toDisplayString(e.unref(y)("Size"))+" ",1),e.withDirectives(e.createVNode(Re,{direction:N.order=="asc"?"down":"up"},null,8,["direction"]),[[e.vShow,N.active&&N.column=="file_size"]])])),k.value.length?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("div",{key:1,onClick:A[2]||(A[2]=B=>H("last_modified")),class:"col-span-3 py-1 leading-6 hover:bg-neutral-100 bg-neutral-50 dark:bg-gray-800 dark:hover:bg-gray-700/10 flex items-center justify-center"},[e.createTextVNode(e.toDisplayString(e.unref(y)("Date"))+" ",1),e.withDirectives(e.createVNode(Re,{direction:N.order=="asc"?"down":"up"},null,8,["direction"]),[[e.vShow,N.active&&N.column=="last_modified"]])])),k.value.length?(e.openBlock(),e.createElementBlock("div",{key:2,onClick:A[3]||(A[3]=B=>H("path")),class:"col-span-5 py-1 leading-6 hover:bg-neutral-100 bg-neutral-50 dark:bg-gray-800 dark:hover:bg-gray-700/10 flex items-center justify-center border-l dark:border-gray-700"},[e.createTextVNode(e.toDisplayString(e.unref(y)("Filepath"))+" ",1),e.withDirectives(e.createVNode(Re,{direction:N.order=="asc"?"down":"up"},null,8,["direction"]),[[e.vShow,N.active&&N.column=="path"]])])):e.createCommentVNode("",!0)])):e.createCommentVNode("",!0),e.createElementVNode("div",mn,[e.createElementVNode("div",{ref_key:"dragImage",ref:p,class:"absolute -z-50 -top-96"},[fn,e.createElementVNode("div",pn,e.toDisplayString(f.value),1)],512)]),e.createElementVNode("div",{onContextmenu:A[10]||(A[10]=e.withModifiers(B=>e.unref(r).emit("vf-contextmenu-show",{event:B,area:m.value,items:S()}),["self","prevent"])),class:e.normalizeClass([E.value?"":"resize-y","h-full w-full text-xs vf-selector-area min-h-[150px] overflow-auto p-1 z-0"]),ref_key:"selectorArea",ref:m},[k.value.length?(e.openBlock(!0),e.createElementBlock(e.Fragment,{key:0},e.renderList(P(),(B,z)=>(e.openBlock(),e.createElementBlock("div",{onDblclick:j=>O(B),onTouchstart:A[4]||(A[4]=j=>I(j)),onTouchend:A[5]||(A[5]=j=>M()),onContextmenu:e.withModifiers(j=>e.unref(r).emit("vf-contextmenu-show",{event:j,area:m.value,items:S(),target:B}),["prevent"]),class:e.normalizeClass(["vf-item-"+e.unref(b),"grid grid-cols-1 border hover:bg-neutral-50 dark:hover:bg-gray-700 border-transparent my-0.5 w-full select-none"]),"data-type":B.type,"data-item":JSON.stringify(B),"data-index":z},[e.createElementVNode("div",yn,[e.createElementVNode("div",bn,[B.type=="dir"?(e.openBlock(),e.createElementBlock("svg",wn,vn)):(e.openBlock(),e.createElementBlock("svg",kn,_n)),e.createElementVNode("span",xn,e.toDisplayString(B.basename),1)]),e.createElementVNode("div",Sn,e.toDisplayString(B.path),1)])],42,gn))),256)):e.createCommentVNode("",!0),i.view=="list"&&!k.value.length?(e.openBlock(!0),e.createElementBlock(e.Fragment,{key:1},e.renderList(P(),(B,z)=>(e.openBlock(),e.createElementBlock("div",{draggable:"true",onDblclick:j=>O(B),onTouchstart:A[6]||(A[6]=j=>I(j)),onTouchend:A[7]||(A[7]=j=>M()),onContextmenu:e.withModifiers(j=>e.unref(r).emit("vf-contextmenu-show",{event:j,area:m.value,items:S(),target:B}),["prevent"]),onDragstart:j=>F(j),onDragover:j=>Q(j,B),onDrop:j=>W(j,B),class:e.normalizeClass(["vf-item-"+e.unref(b),"grid grid-cols-1 border hover:bg-neutral-50 dark:hover:bg-gray-700 border-transparent my-0.5 w-full select-none"]),"data-type":B.type,"data-item":JSON.stringify(B),"data-index":z},[e.createElementVNode("div",En,[e.createElementVNode("div",Nn,[B.type=="dir"?(e.openBlock(),e.createElementBlock("svg",Vn,Cn)):(e.openBlock(),e.createElementBlock("svg",$n,Mn)),e.createElementVNode("span",Bn,e.toDisplayString(B.basename),1)]),e.createElementVNode("div",Tn,e.toDisplayString(B.file_size?e.unref(_t)(B.file_size):""),1),e.createElementVNode("div",An,e.toDisplayString(e.unref(xt)(B.last_modified)),1)])],42,Dn))),256)):e.createCommentVNode("",!0),i.view=="grid"&&!k.value.length?(e.openBlock(!0),e.createElementBlock(e.Fragment,{key:2},e.renderList(P(!1),(B,z)=>{var j,G;return e.openBlock(),e.createElementBlock("div",{draggable:"true",onDblclick:U=>O(B),onTouchstart:A[8]||(A[8]=U=>I(U)),onTouchend:A[9]||(A[9]=U=>M()),onContextmenu:e.withModifiers(U=>e.unref(r).emit("vf-contextmenu-show",{event:U,area:m.value,items:S(),target:B}),["prevent"]),onDragstart:U=>F(U),onDragover:U=>Q(U,B),onDrop:U=>W(U,B),class:e.normalizeClass(["vf-item-"+e.unref(b),"border border-transparent hover:bg-neutral-50 m-1 dark:hover:bg-gray-700 inline-flex w-[5.5rem] h-20 md:w-24 text-center justify-center select-none"]),"data-type":B.type,"data-item":JSON.stringify(B),"data-index":z},[e.createElementVNode("div",null,[e.createElementVNode("div",jn,[B.type=="dir"?(e.openBlock(),e.createElementBlock("svg",Pn,Ln)):((j=B.mime_type)!=null?j:"").startsWith("image")?(e.openBlock(),e.createElementBlock("img",{key:1,class:"h-10 md:h-12 m-auto",src:e.unref(Qe)(e.unref(s)("adapter",t.data.adapter),B.path),alt:""},null,8,In)):(e.openBlock(),e.createElementBlock("svg",zn,Rn)),((G=B.mime_type)!=null?G:"").startsWith("image")?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("div",Hn,e.toDisplayString(a(B.extension)),1))]),e.createElementVNode("span",Fn,e.toDisplayString(l(B.basename)),1)])],42,On)}),256)):e.createCommentVNode("",!0)],34),e.createVNode(cn)]))}}),Kn={class:"p-1 text-xs border-t border-neutral-300 dark:border-gray-700/50 flex justify-between select-none"},Yn={class:"flex leading-5 items-center"},Wn=["aria-label"],Xn=[e.createElementVNode("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"1"},[e.createElementVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M4 7v10c0 2.21 3.582 4 8 4s8-1.79 8-4V7M4 7c0 2.21 3.582 4 8 4s8-1.79 8-4M4 7c0-2.21 3.582-4 8-4s8 1.79 8 4m0 5c0 2.21-3.582 4-8 4s-8-1.79-8-4"})],-1)],qn=["value"],Gn={class:"ml-3"},Jn={key:0},Zn={class:"ml-1"},Qn={class:"flex leading-5 items-center"},eo={value:"",disabled:""},to=e.createElementVNode("option",{value:"tr"},"Turkish",-1),ro=e.createElementVNode("option",{value:"en"},"English",-1),no=e.createElementVNode("option",{value:"fr"},"French",-1),oo=["aria-label"],ao=[e.createElementVNode("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 stroke-slate-500 cursor-pointer",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[e.createElementVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)],io=Object.assign({name:"VFStatusbar"},{props:{data:Object},setup(i){var b;const t=i,r=e.inject("emitter"),{getStore:o,setStore:s}=e.inject("storage"),a=e.ref(0),l=e.ref((b=o("adapter"))!=null?b:t.data.adapter),{t:m,changeLocale:p}=e.inject("i18n"),f=e.ref(o("locale","")),h=()=>{r.emit("vf-search-exit"),r.emit("vf-fetch",{params:{q:"index",adapter:l.value}}),s("adapter",l.value)};r.on("vf-nodes-selected",E=>{a.value=E.length});const y=e.ref("");return r.on("vf-search-query",({newQuery:E})=>{y.value=E}),(E,k)=>(e.openBlock(),e.createElementBlock("div",Kn,[e.createElementVNode("div",Yn,[e.createElementVNode("div",{class:"mx-2","aria-label":e.unref(m)("Storage"),"data-microtip-position":"top-right",role:"tooltip"},Xn,8,Wn),e.withDirectives(e.createElementVNode("select",{"onUpdate:modelValue":k[0]||(k[0]=x=>l.value=x),onChange:h,class:"py-0.5 text-sm text-slate-500 dark:text-neutral-50 dark:bg-gray-700 rounded pl-2 pr-8"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(i.data.storages,x=>(e.openBlock(),e.createElementBlock("option",{value:x},e.toDisplayString(x),9,qn))),256))],544),[[e.vModelSelect,l.value]]),e.createElementVNode("div",Gn,[y.value.length?(e.openBlock(),e.createElementBlock("span",Jn,e.toDisplayString(i.data.files.length)+" items found. ",1)):e.createCommentVNode("",!0),e.createElementVNode("span",Zn,e.toDisplayString(a.value>0?a.value+" "+e.unref(m)("item(s) selected."):""),1)])]),e.createElementVNode("div",Qn,[e.withDirectives(e.createElementVNode("select",{"onUpdate:modelValue":k[1]||(k[1]=x=>f.value=x),onChange:k[2]||(k[2]=x=>e.unref(p)(x.target.value)),class:"py-0.5 text-sm text-slate-500 dark:text-neutral-50 dark:bg-gray-700 rounded pl-2 pr-8 mr-3"},[e.createElementVNode("option",eo,e.toDisplayString(e.unref(m)("Language")),1),to,ro,no],544),[[e.vModelSelect,f.value]]),e.createElementVNode("span",{"aria-label":e.unref(m)("About"),"data-microtip-position":"top-left",role:"tooltip",onClick:k[3]||(k[3]=x=>e.unref(r).emit("vf-modal-show",{type:"message",title:"Vuefinder 1.0",message:e.unref(m)("Vuefinder is a file manager component for vue 3.")}))},ao,8,oo)])]))}}),so=(i,t=0,r=!1)=>{let o;return(...s)=>{r&&!o&&i(...s),clearTimeout(o),o=setTimeout(()=>{i(...s)},t)}},lo=(i,t,r)=>{const o=e.ref(i);return e.customRef((a,l)=>({get(){return a(),o.value},set:so(m=>{o.value=m,l()},t,r)}))},co={class:"flex p-1.5 bg-neutral-100 dark:bg-gray-800 border-t border-b border-neutral-300 dark:border-gray-700/50 items-center select-none text-xs"},ho=["aria-label"],uo=[e.createElementVNode("path",{"fill-rule":"evenodd",d:"M5.293 9.707a1 1 0 010-1.414l4-4a1 1 0 011.414 0l4 4a1 1 0 01-1.414 1.414L11 7.414V15a1 1 0 11-2 0V7.414L6.707 9.707a1 1 0 01-1.414 0z","clip-rule":"evenodd"},null,-1)],mo=["aria-label"],fo=[e.createElementVNode("path",{d:"M463.5 224H472c13.3 0 24-10.7 24-24V72c0-9.7-5.8-18.5-14.8-22.2s-19.3-1.7-26.2 5.2L413.4 96.6c-87.6-86.5-228.7-86.2-315.8 1c-87.5 87.5-87.5 229.3 0 316.8s229.3 87.5 316.8 0c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0c-62.5 62.5-163.8 62.5-226.3 0s-62.5-163.8 0-226.3c62.2-62.2 162.7-62.5 225.3-1L327 183c-6.9 6.9-8.9 17.2-5.2 26.2s12.5 14.8 22.2 14.8H463.5z"},null,-1)],po={key:1,"aria-label":"Cancel","data-microtip-position":"bottom-right",role:"tooltip"},go=[e.createElementVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18L18 6M6 6l12 12"},null,-1)],yo=["onClick"],bo=[e.createElementVNode("path",{d:"M10.707 2.293a1 1 0 00-1.414 0l-7 7a1 1 0 001.414 1.414L4 10.414V17a1 1 0 001 1h2a1 1 0 001-1v-2a1 1 0 011-1h2a1 1 0 011 1v2a1 1 0 001 1h2a1 1 0 001-1v-6.586l.293.293a1 1 0 001.414-1.414l-7-7z"},null,-1)],wo={class:"flex leading-5"},vo=e.createElementVNode("span",{class:"text-neutral-300 dark:text-gray-600 mx-0.5"},"/",-1),ko=["title","onClick"],_o={key:0,class:"animate-spin p-1 h-6 w-6 text-white ml-auto",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},xo=[e.createElementVNode("circle",{class:"opacity-25 stroke-blue-900 dark:stroke-blue-100",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),e.createElementVNode("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)],So={key:3,class:"flex bg-white dark:bg-gray-700 items-center rounded p-1 ml-2 w-full"},Do=e.createElementVNode("svg",{class:"h-6 w-6 p-1 m-auto stroke-gray-400 fill-gray-100 dark:stroke-gray-400 dark:fill-gray-400/20",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[e.createElementVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z"})],-1),Eo=["onKeydown","placeholder"],No=[e.createElementVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18L18 6M6 6l12 12"},null,-1)],Vo=Object.assign({name:"VFBreadcrumb"},{props:{data:Object},setup(i){const t=i,r=e.inject("emitter"),{getStore:o}=e.inject("storage"),s=e.ref(null),a=e.ref([]),l=e.ref(!1),m=e.ref(null),{t:p}=e.inject("i18n"),f=e.inject("loadingState");r.on("vf-explorer-update",()=>{var P;let O=[],N=[];s.value=(P=t.data.dirname)!=null?P:o("adapter","local")+"://",s.value.length==0&&(a.value=[]),s.value.replace(o("adapter","local")+"://","").split("/").forEach(function(H){O.push(H),O.join("/")!=""&&N.push({basename:H,name:H,path:o("adapter","local")+"://"+O.join("/"),type:"dir"})}),N.length>4&&(N=N.slice(-5),N[0].name=".."),a.value=N});const h=()=>{l.value=!1,b.value=""};r.on("vf-search-exit",()=>{h()});const y=()=>{l.value=!0,e.nextTick(()=>m.value.focus())},b=lo("",400),E=()=>f.value;e.watch(b,O=>{r.emit("vf-toast-clear"),r.emit("vf-search-query",{newQuery:O})});const k=()=>a.value.length&&!l.value,x=O=>{var P;O.preventDefault();let N=JSON.parse(O.dataTransfer.getData("items"));if(N.find(H=>H.storage!=o("adapter","local"))){alert("Moving items between different storages is not supported yet.");return}r.emit("vf-modal-show",{type:"move",items:{from:N,to:(P=a.value[a.value.length-2])!=null?P:{path:o("adapter","local")+"://"}}})},M=O=>{O.preventDefault(),k()?O.dataTransfer.dropEffect="copy":(O.dataTransfer.dropEffect="none",O.dataTransfer.effectAllowed="none")},I=()=>{b.value==""&&h()};return(O,N)=>(e.openBlock(),e.createElementBlock("div",co,[e.createElementVNode("span",{"aria-label":e.unref(p)("Go up a directory"),"data-microtip-position":"bottom-right",role:"tooltip"},[(e.openBlock(),e.createElementBlock("svg",{onDragover:N[0]||(N[0]=P=>M(P)),onDrop:N[1]||(N[1]=P=>x(P)),onClick:N[2]||(N[2]=P=>{var H,S;return!k()||e.unref(r).emit("vf-fetch",{params:{q:"index",adapter:i.data.adapter,path:(S=(H=a.value[a.value.length-2])==null?void 0:H.path)!=null?S:e.unref(o)("adapter","local")+"://"}})}),class:e.normalizeClass(["h-6 w-6 p-0.5 rounded",k()?"text-slate-700 hover:bg-neutral-300 dark:text-neutral-200 dark:hover:bg-gray-700 cursor-pointer":"text-gray-400 dark:text-neutral-500"]),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},uo,34))],8,ho),E()?(e.openBlock(),e.createElementBlock("span",po,[(e.openBlock(),e.createElementBlock("svg",{onClick:N[4]||(N[4]=P=>e.unref(r).emit("vf-fetch-abort")),xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"h-6 w-6 p-1 rounded text-slate-700 hover:bg-neutral-300 dark:text-neutral-200 dark:hover:bg-gray-700 cursor-pointer"},go))])):(e.openBlock(),e.createElementBlock("span",{key:0,"aria-label":e.unref(p)("Refresh"),"data-microtip-position":"bottom-right",role:"tooltip"},[(e.openBlock(),e.createElementBlock("svg",{onClick:N[3]||(N[3]=P=>{e.unref(r).emit("vf-fetch",{params:{q:"index",adapter:i.data.adapter,path:i.data.dirname}})}),class:"h-6 w-6 p-1 rounded text-slate-700 hover:bg-neutral-300 dark:text-neutral-200 dark:hover:bg-gray-700 cursor-pointer",xmlns:"http://www.w3.org/2000/svg",viewBox:"-40 -40 580 580",fill:"currentColor"},fo))],8,mo)),l.value?(e.openBlock(),e.createElementBlock("div",So,[Do,e.withDirectives(e.createElementVNode("input",{ref_key:"searchInput",ref:m,onKeydown:e.withKeys(h,["esc"]),onBlur:I,"onUpdate:modelValue":N[6]||(N[6]=P=>e.isRef(b)?b.value=P:null),placeholder:e.unref(p)("Search anything.."),class:"py-0 px-2 w-full border-0 ring-0 outline-0 text-sm text-gray-600 focus:ring-transparent focus:border-transparent dark:focus:ring-transparent dark:focus:border-transparent dark:text-gray-300 bg-transparent",type:"text"},null,40,Eo),[[e.vModelText,e.unref(b)]]),(e.openBlock(),e.createElementBlock("svg",{class:"w-6 h-6 cursor-pointer",onClick:h,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},No))])):(e.openBlock(),e.createElementBlock("div",{key:2,class:"group flex bg-white dark:bg-gray-700 items-center rounded p-1 ml-2 w-full",onClick:e.withModifiers(y,["self"])},[(e.openBlock(),e.createElementBlock("svg",{onClick:N[5]||(N[5]=P=>e.unref(r).emit("vf-fetch",{params:{q:"index",adapter:i.data.adapter}})),class:"h-6 w-6 p-1 rounded text-slate-700 hover:bg-neutral-100 dark:text-neutral-300 dark:hover:bg-gray-800 cursor-pointer",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},bo)),e.createElementVNode("div",wo,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(a.value,(P,H)=>(e.openBlock(),e.createElementBlock("div",{key:H},[vo,e.createElementVNode("span",{class:"px-1.5 py-1 text-slate-700 dark:text-slate-200 hover:bg-neutral-100 dark:hover:bg-gray-800 rounded cursor-pointer",title:P.basename,onClick:S=>e.unref(r).emit("vf-fetch",{params:{q:"index",adapter:i.data.adapter,path:P.path}})},e.toDisplayString(P.name),9,ko)]))),128))]),E()?(e.openBlock(),e.createElementBlock("svg",_o,xo)):e.createCommentVNode("",!0)],8,yo))]))}}),Co=["onClick"],$o=e.createElementVNode("span",{class:"px-1"},null,-1),Mo=Object.assign({name:"VFContextMenu"},{props:{current:Object},setup(i){const t=i,r=e.inject("emitter"),o=e.ref(null),{apiUrl:s}=ie(),a=e.reactive({active:!1,items:[],positions:{left:0,top:0}}),l=e.ref([]);r.on("vf-context-selected",b=>{l.value=b});const{t:m}=e.inject("i18n"),p={newfolder:{title:()=>m("New Folder"),action:()=>{r.emit("vf-modal-show",{type:"new-folder"})}},delete:{title:()=>m("Delete"),action:()=>{r.emit("vf-modal-show",{type:"delete",items:l})}},refresh:{title:()=>m("Refresh"),action:()=>{r.emit("vf-fetch",{params:{q:"index",adapter:t.current.adapter,path:t.current.dirname}})}},preview:{title:()=>m("Preview"),action:()=>{r.emit("vf-modal-show",{type:"preview",adapter:t.current.adapter,item:l.value[0]})}},open:{title:()=>m("Open"),action:()=>{r.emit("vf-search-exit"),r.emit("vf-fetch",{params:{q:"index",adapter:t.current.adapter,path:l.value[0].path}})}},openDir:{title:()=>m("Open containing folder"),action:()=>{r.emit("vf-search-exit"),r.emit("vf-fetch",{params:{q:"index",adapter:t.current.adapter,path:l.value[0].dir}})}},download:{title:()=>m("Download"),action:()=>{const b=s.value+"?"+pe({q:"download",adapter:t.current.adapter,path:l.value[0].path});r.emit("vf-download",b)}},archive:{title:()=>m("Archive"),action:()=>{r.emit("vf-modal-show",{type:"archive",items:l})}},unarchive:{title:()=>m("Unarchive"),action:()=>{r.emit("vf-modal-show",{type:"unarchive",items:l})}},rename:{title:()=>m("Rename"),action:()=>{r.emit("vf-modal-show",{type:"rename",items:l})}}},f=b=>{r.emit("vf-contextmenu-hide"),b.action()},h=e.ref("");r.on("vf-search-query",({newQuery:b})=>{h.value=b}),r.on("vf-contextmenu-show",({event:b,area:E,items:k,target:x=null})=>{if(a.items=[],h.value)if(x)a.items.push(p.openDir),r.emit("vf-context-selected",[x]);else return;else!x&&!h.value?(a.items.push(p.refresh),a.items.push(p.newfolder),r.emit("vf-context-selected",[])):k.length>1&&k.some(M=>M.path===x.path)?(a.items.push(p.refresh),a.items.push(p.archive),a.items.push(p.delete),r.emit("vf-context-selected",k)):(x.type=="dir"?a.items.push(p.open):(a.items.push(p.preview),a.items.push(p.download)),a.items.push(p.rename),x.mime_type=="application/zip"?a.items.push(p.unarchive):a.items.push(p.archive),a.items.push(p.delete),r.emit("vf-context-selected",[x]));y(b,E)}),r.on("vf-contextmenu-hide",()=>{a.active=!1});const y=(b,E)=>{a.active=!0,e.nextTick(()=>{let k=E.getBoundingClientRect(),x=b.pageX,M=b.pageY,I=o.value.offsetHeight,O=o.value.offsetWidth;x=k.right-b.pageX+window.scrollX<O?x-O:x,M=k.bottom-b.pageY+window.scrollY<I?M-I:M,a.positions={left:x+"px",top:M+"px"}})};return(b,E)=>a.active?(e.openBlock(),e.createElementBlock("ul",{key:0,class:"z-30 absolute text-xs bg-neutral-50 dark:bg-gray-800 text-gray-700 dark:text-gray-200 border border-neutral-300 dark:border-gray-600 shadow rounded select-none",ref_key:"contextmenu",ref:o,style:e.normalizeStyle(a.positions)},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(a.items,k=>(e.openBlock(),e.createElementBlock("li",{class:"px-2 py-1.5 cursor-pointer hover:bg-neutral-200 dark:hover:bg-gray-700",key:k.title,onClick:x=>f(k)},[$o,e.createElementVNode("span",null,e.toDisplayString(k.title()),1)],8,Co))),128))],4)):e.createCommentVNode("",!0)}}),Bo=(i,t)=>{const r=i[t];return r?typeof r=="function"?r():Promise.resolve(r):new Promise((o,s)=>{(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(s.bind(null,new Error("Unknown variable dynamic import: "+t)))})};async function To(i){const t=await Bo(Object.assign({"../locales/en.json":()=>Promise.resolve().then(()=>hl),"../locales/tr.json":()=>Promise.resolve().then(()=>ul)}),`../locales/${i}.json`);return JSON.parse(t.default)}function Ao(i,t,r){const{getStore:o,setStore:s}=Ze(i),a=["en","tr"],l=e.ref({}),m=h=>{a.includes(h)||(r.emit("vf-toast-push",{label:"The selected locale is not yet supported!",type:"error"}),h="en"),To(h).then(y=>{l.value=y,s("locale",h),s("translations",y),r.emit("vf-toast-push",{label:"The language is set to "+h})})};o("locale")?l.value=o("translations"):m(t);const p=(h,...y)=>y.length?p(h=h.replace("%s",y.shift()),...y):h;function f(h,...y){return l.value.hasOwnProperty(h)?p(l.value[h],...y):h}return{t:f,support_locales:a,changeLocale:m}}const Oo=e.createElementVNode("iframe",{id:"download_frame",style:{display:"none"}},null,-1),jo=Object.assign({name:"VueFinder"},{props:{url:{type:[String]},id:{type:String,default:"vf"},dark:{type:Boolean,default:!1},locale:{type:String,default:"en"},maxHeight:{type:String,default:"600px"},postData:{type:Object,default:{}}},setup(i){const t=i,r=_r(),{setStore:o,getStore:s}=Ze(t.id);e.provide("emitter",r),e.provide("storage",Ze(t.id)),e.provide("postData",t.postData);const a=Ao(t.id,t.locale,r);e.provide("i18n",a);const{apiUrl:l,setApiUrl:m}=ie();m(t.url);const p=e.reactive({adapter:"local",storages:[],dirname:".",files:[]}),f=e.ref(s("viewport","grid")),h=e.ref(s("darkMode",t.dark));r.on("vf-darkMode-toggle",()=>{h.value=!h.value,o("darkMode",h.value)});const y=e.ref(!1);e.provide("loadingState",y);const b=e.ref(s("full-screen",!1));r.on("vf-fullscreen-toggle",()=>{b.value=!b.value,o("full-screen",b.value)}),r.on("vf-view-toggle",M=>{f.value=M});const E=e.reactive({active:!1,type:"delete",data:{}});r.on("vf-modal-close",()=>{E.active=!1}),r.on("vf-modal-show",M=>{E.active=!0,E.type=M.type,E.data=M});const k=M=>{Object.assign(p,M),r.emit("vf-nodes-selected",{}),r.emit("vf-explorer-update")};let x;return r.on("vf-fetch-abort",()=>{x.abort(),y.value=!1}),r.on("vf-fetch",({params:M,onSuccess:I=null,onError:O=null})=>{["index","search"].includes(M.q)&&(x&&x.abort(),y.value=!0),x=new AbortController;const N=x.signal;ze(l.value,{params:M,signal:N}).then(P=>{["index","search"].includes(M.q)&&(y.value=!1),r.emit("vf-modal-close"),k(P),I(P)}).catch(P=>{O&&O(P)}).finally(()=>{})}),r.on("vf-download",M=>{document.getElementById("download_frame").src=M,r.emit("vf-modal-close")}),e.onMounted(()=>{r.emit("vf-fetch",{params:{q:"index",adapter:s("adapter",p.adapter)}})}),(M,I)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(["vuefinder",h.value?"dark":""])},[e.createElementVNode("div",{class:e.normalizeClass([b.value?"fixed w-screen inset-0 z-20":"relative rounded-md","border flex flex-col bg-white dark:bg-gray-800 text-gray-700 dark:text-neutral-400 border-neutral-300 dark:border-gray-900 min-w-min select-none"]),style:e.normalizeStyle(b.value?"":"max-height: "+i.maxHeight),onMousedown:I[0]||(I[0]=O=>e.unref(r).emit("vf-contextmenu-hide")),onTouchstart:I[1]||(I[1]=O=>e.unref(r).emit("vf-contextmenu-hide"))},[e.createVNode(en,{data:p},null,8,["data"]),e.createVNode(Vo,{data:p},null,8,["data"]),e.createVNode(Un,{view:f.value,data:p},null,8,["view","data"]),e.createVNode(io,{data:p},null,8,["data"])],38),E.active?(e.openBlock(),e.createBlock(e.resolveDynamicComponent("v-f-modal-"+E.type),{key:0,selection:E.data,current:p},null,8,["selection","current"])):e.createCommentVNode("",!0),e.createVNode(Mo,{current:p},null,8,["current"]),Oo],2))}}),Po=e.createElementVNode("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"},null,-1),Lo={class:"fixed z-10 inset-0 overflow-y-auto w-screen h-screen"},Io={class:"relative bg-white dark:bg-gray-800 rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:max-w-4xl md:max-w-2xl lg:max-w-3xl xl:max-w-5xl w-full"},zo={class:"bg-white dark:bg-gray-800 px-4 pt-5 pb-4 sm:p-6 sm:pb-4"},Ro={class:"bg-gray-50 dark:bg-gray-800 dark:border-t dark:border-gray-700 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse"},se={__name:"ModalLayout",setup(i){const t=e.inject("emitter");return e.onMounted(()=>{const r=document.querySelector(".v-f-modal input");r&&r.focus()}),(r,o)=>(e.openBlock(),e.createElementBlock("div",{class:"v-f-modal relative z-30","aria-labelledby":"modal-title",role:"dialog","aria-modal":"true",onKeyup:o[1]||(o[1]=e.withKeys(s=>e.unref(t).emit("vf-modal-close"),["esc"])),tabindex:"0"},[Po,e.createElementVNode("div",Lo,[e.createElementVNode("div",{class:"flex items-end sm:items-center justify-center min-h-full p-4 text-center sm:p-0",onMousedown:o[0]||(o[0]=e.withModifiers(s=>e.unref(t).emit("vf-modal-close"),["self"]))},[e.createElementVNode("div",Io,[e.createElementVNode("div",zo,[e.renderSlot(r.$slots,"default")]),e.createElementVNode("div",Ro,[e.renderSlot(r.$slots,"buttons")])])],32)])],32))}},Ho=["aria-label"],Fo=[e.createElementVNode("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-5 h-5"},[e.createElementVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18L18 6M6 6l12 12"})],-1)],le=Object.assign({name:"Message"},{props:{error:{type:Boolean,default:!1}},emits:["hidden"],setup(i,{emit:t}){var m;const{t:r}=e.inject("i18n"),o=e.ref(!1),s=e.ref(null),a=e.ref((m=s.value)==null?void 0:m.strMessage);e.watch(a,()=>o.value=!1);const l=()=>{t("hidden"),o.value=!0};return(p,f)=>(e.openBlock(),e.createElementBlock("div",null,[o.value?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("div",{key:0,ref_key:"strMessage",ref:s,class:e.normalizeClass(["flex mt-1 p-1 px-2 rounded text-sm",i.error?"bg-red-100 text-red-600":"bg-emerald-100 text-emerald-600"])},[e.renderSlot(p.$slots,"default"),e.createElementVNode("div",{class:"ml-auto cursor-pointer",onClick:l,"aria-label":e.unref(r)("Close"),"data-microtip-position":"top-left",role:"tooltip"},Fo,8,Ho)],2))]))}}),Uo={class:"sm:flex sm:items-start"},Ko=e.createElementVNode("div",{class:"mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-red-100 dark:bg-gray-500 sm:mx-0 sm:h-10 sm:w-10"},[e.createElementVNode("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6 stroke-red-600 dark:stroke-red-200",fill:"none",viewBox:"0 0 24 24",stroke:"none","stroke-width":"1.5"},[e.createElementVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})])],-1),Yo={class:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left"},Wo={class:"text-lg leading-6 font-medium text-gray-900 dark:text-gray-400",id:"modal-title"},Xo={class:"mt-2"},qo={class:"text-sm text-gray-500"},Go={class:"flex text-sm text-gray-800 dark:text-gray-400"},Jo={key:0,xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 text-neutral-500 fill-sky-500 stroke-sky-500 dark:fill-slate-500 dark:stroke-slate-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"1"},Zo=[e.createElementVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z"},null,-1)],Qo={key:1,xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 text-neutral-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"1"},ea=[e.createElementVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z"},null,-1)],ta={class:"ml-1.5"},ra={class:"m-auto font-bold text-red-500 text-sm dark:text-red-200 text-center"},na=Object.assign({name:"VFModalDelete"},{props:{selection:Object,current:Object},setup(i){const t=i,r=e.inject("emitter"),{getStore:o}=e.inject("storage"),{t:s}=e.inject("i18n"),a=e.ref(t.selection.items),l=e.ref(""),m=()=>{a.value.length&&r.emit("vf-fetch",{params:{q:"delete",adapter:o("adapter","local"),path:t.current.dirname,items:JSON.stringify(a.value.map(({path:p,type:f})=>({path:p,type:f})))},onSuccess:()=>{r.emit("vf-toast-push",{label:s("Files deleted.")})},onError:p=>{l.value=s(p.message)}})};return(p,f)=>(e.openBlock(),e.createBlock(se,null,{buttons:e.withCtx(()=>[e.createElementVNode("button",{type:"button",onClick:m,class:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-red-600 text-base font-medium text-white hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 sm:ml-3 sm:w-auto sm:text-sm"},e.toDisplayString(e.unref(s)("Yes, Delete!")),1),e.createElementVNode("button",{type:"button",onClick:f[1]||(f[1]=h=>e.unref(r).emit("vf-modal-close")),class:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm"},e.toDisplayString(e.unref(s)("Cancel")),1),e.createElementVNode("div",ra,e.toDisplayString(e.unref(s)("This action cannot be undone.")),1)]),default:e.withCtx(()=>[e.createElementVNode("div",Uo,[Ko,e.createElementVNode("div",Yo,[e.createElementVNode("h3",Wo,e.toDisplayString(e.unref(s)("Delete files")),1),e.createElementVNode("div",Xo,[e.createElementVNode("p",qo,e.toDisplayString(e.unref(s)("Are you sure you want to delete these files?")),1),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(a.value,h=>(e.openBlock(),e.createElementBlock("p",Go,[h.type=="dir"?(e.openBlock(),e.createElementBlock("svg",Jo,Zo)):(e.openBlock(),e.createElementBlock("svg",Qo,ea)),e.createElementVNode("span",ta,e.toDisplayString(h.basename),1)]))),256)),l.value.length?(e.openBlock(),e.createBlock(le,{key:0,onHidden:f[0]||(f[0]=h=>l.value=""),error:""},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(l.value),1)]),_:1})):e.createCommentVNode("",!0)])])])]),_:1}))}}),oa={class:"sm:flex sm:items-start"},aa=e.createElementVNode("div",{class:"mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-blue-50 dark:bg-gray-500 sm:mx-0 sm:h-10 sm:w-10"},[e.createElementVNode("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6 stroke-blue-600 dark:stroke-blue-100",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[e.createElementVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1),ia={class:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left"},sa={class:"text-lg leading-6 font-medium text-gray-900 dark:text-gray-400",id:"modal-title"},la={class:"mt-2"},ca={class:"text-sm text-gray-500"},da=Object.assign({name:"VFModalMessage"},{props:{selection:Object},setup(i){const t=e.inject("emitter"),{t:r}=e.inject("i18n");return(o,s)=>(e.openBlock(),e.createBlock(se,null,{buttons:e.withCtx(()=>[e.createElementVNode("button",{type:"button",onClick:s[0]||(s[0]=a=>e.unref(t).emit("vf-modal-close")),class:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm"},e.toDisplayString(e.unref(r)("Close")),1)]),default:e.withCtx(()=>{var a,l,m,p;return[e.createElementVNode("div",oa,[aa,e.createElementVNode("div",ia,[e.createElementVNode("h3",sa,e.toDisplayString((l=(a=i.selection)==null?void 0:a.title)!=null?l:"Title"),1),e.createElementVNode("div",la,[e.createElementVNode("p",ca,e.toDisplayString((p=(m=i.selection)==null?void 0:m.message)!=null?p:"Message")+".",1)])])])]}),_:1}))}}),ha={class:"sm:flex sm:items-start"},ua=e.createElementVNode("div",{class:"mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-blue-50 dark:bg-gray-500 sm:mx-0 sm:h-10 sm:w-10"},[e.createElementVNode("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6 stroke-blue-600 dark:stroke-blue-100",fill:"none",viewBox:"0 0 24 24",stroke:"none","stroke-width":"1.5"},[e.createElementVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 13h6m-3-3v6m-9 1V7a2 2 0 012-2h6l2 2h6a2 2 0 012 2v8a2 2 0 01-2 2H5a2 2 0 01-2-2z"})])],-1),ma={class:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left w-full"},fa={class:"text-lg leading-6 font-medium text-gray-900 dark:text-gray-400",id:"modal-title"},pa={class:"mt-2"},ga={class:"text-sm text-gray-500"},ya=["onKeyup","placeholder"],ba=Object.assign({name:"VFModalNewFolder"},{props:{selection:Object,current:Object},setup(i){const t=i,r=e.inject("emitter"),{getStore:o}=e.inject("storage"),{t:s}=e.inject("i18n"),a=e.ref(""),l=e.ref(""),m=()=>{a.value!=""&&r.emit("vf-fetch",{params:{q:"newfolder",adapter:o("adapter","local"),path:t.current.dirname,name:a.value},onSuccess:()=>{r.emit("vf-toast-push",{label:s("%s is created.",a.value)})},onError:p=>{l.value=s(p.message)}})};return(p,f)=>(e.openBlock(),e.createBlock(se,null,{buttons:e.withCtx(()=>[e.createElementVNode("button",{type:"button",onClick:m,class:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-blue-600 dark:bg-gray-700 dark:hover:bg-gray-600/75 text-base font-medium text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 sm:ml-3 sm:w-auto sm:text-sm"},e.toDisplayString(e.unref(s)("Create")),1),e.createElementVNode("button",{type:"button",onClick:f[2]||(f[2]=h=>e.unref(r).emit("vf-modal-close")),class:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm"},e.toDisplayString(e.unref(s)("Cancel")),1)]),default:e.withCtx(()=>[e.createElementVNode("div",ha,[ua,e.createElementVNode("div",ma,[e.createElementVNode("h3",fa,e.toDisplayString(e.unref(s)("New Folder")),1),e.createElementVNode("div",pa,[e.createElementVNode("p",ga,e.toDisplayString(e.unref(s)("Create a new folder")),1),e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":f[0]||(f[0]=h=>a.value=h),onKeyup:e.withKeys(m,["enter"]),class:"px-2 py-1 border rounded dark:bg-gray-700/25 dark:focus:ring-gray-600 dark:focus:border-gray-600 dark:text-gray-100 w-full",placeholder:e.unref(s)("Folder Name"),type:"text"},null,40,ya),[[e.vModelText,a.value]]),l.value.length?(e.openBlock(),e.createBlock(le,{key:0,onHidden:f[1]||(f[1]=h=>l.value=""),error:""},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(l.value),1)]),_:1})):e.createCommentVNode("",!0)])])])]),_:1}))}}),wa={class:"sm:flex sm:items-start"},va=e.createElementVNode("div",{class:"mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-blue-50 dark:bg-gray-500 sm:mx-0 sm:h-10 sm:w-10"},[e.createElementVNode("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6 stroke-blue-600 dark:stroke-blue-100",fill:"none",viewBox:"0 0 24 24",stroke:"none","stroke-width":"1.5"},[e.createElementVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 13h6m-3-3v6m5 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})])],-1),ka={class:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left w-full"},_a={class:"text-lg leading-6 font-medium text-gray-900 dark:text-gray-400",id:"modal-title"},xa={class:"mt-2"},Sa={class:"text-sm text-gray-500"},Da=["onKeyup","placeholder"],Ea=Object.assign({name:"VFModalNewFile"},{props:{selection:Object,current:Object},setup(i){const t=i,r=e.inject("emitter"),{getStore:o}=e.inject("storage"),{t:s}=e.inject("i18n"),a=e.ref(""),l=e.ref(""),m=()=>{a.value!=""&&r.emit("vf-fetch",{params:{q:"newfile",adapter:o("adapter","local"),path:t.current.dirname,name:a.value},onSuccess:()=>{r.emit("vf-toast-push",{label:s("%s is created.",a.value)})},onError:p=>{l.value=s(p.message)}})};return(p,f)=>(e.openBlock(),e.createBlock(se,null,{buttons:e.withCtx(()=>[e.createElementVNode("button",{type:"button",onClick:m,class:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-blue-600 dark:bg-gray-700 dark:hover:bg-gray-600/75 text-base font-medium text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 sm:ml-3 sm:w-auto sm:text-sm"},"Create!"),e.createElementVNode("button",{type:"button",onClick:f[2]||(f[2]=h=>e.unref(r).emit("vf-modal-close")),class:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm"},"Cancel")]),default:e.withCtx(()=>[e.createElementVNode("div",wa,[va,e.createElementVNode("div",ka,[e.createElementVNode("h3",_a,e.toDisplayString(e.unref(s)("New File")),1),e.createElementVNode("div",xa,[e.createElementVNode("p",Sa,e.toDisplayString(e.unref(s)("Create a new file")),1),e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":f[0]||(f[0]=h=>a.value=h),onKeyup:e.withKeys(m,["enter"]),class:"px-2 py-1 border rounded dark:bg-gray-700/25 dark:focus:ring-gray-600 dark:focus:border-gray-600 dark:text-gray-100 w-full",placeholder:e.unref(s)("File Name"),type:"text"},null,40,Da),[[e.vModelText,a.value]]),l.value.length?(e.openBlock(),e.createBlock(le,{key:0,onHidden:f[1]||(f[1]=h=>l.value=""),error:""},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(l.value),1)]),_:1})):e.createCommentVNode("",!0)])])])]),_:1}))}}),Na={class:"flex"},Va=["aria-label"],Ca={class:"ml-auto mb-2"},$a={key:0,class:"p-2 border font-normal whitespace-pre-wrap border-gray-200 dark:border-gray-700/50 dark:text-gray-200 rounded min-h-[200px] max-h-[60vh] text-xs overflow-auto"},Ma={key:1},Ba={__name:"Text",props:{selection:Object},emits:["load"],setup(i,{emit:t}){const r=i,o=e.ref(""),s=e.ref(""),a=e.ref(null),l=e.ref(!1),{apiUrl:m}=ie(),p=e.ref(""),f=e.ref(!1),{t:h}=e.inject("i18n");e.onMounted(()=>{ze(m.value,{params:{q:"preview",adapter:r.selection.adapter,path:r.selection.item.path},json:!1}).then(k=>{o.value=k,t("load")})});const y=()=>{l.value=!l.value,s.value=o.value,l.value==!0&&e.nextTick(()=>{a.value.focus()})},b=e.inject("postData"),E=()=>{p.value="",f.value=!1,ze(m.value,{method:"POST",params:Object.assign(b,{q:"save",adapter:r.selection.adapter,path:r.selection.item.path,content:s.value}),json:!1}).then(k=>{p.value=h("Updated."),o.value=k,t("load"),l.value=!l.value}).catch(k=>{p.value=h(k.message),f.value=!0})};return(k,x)=>(e.openBlock(),e.createElementBlock(e.Fragment,null,[e.createElementVNode("div",Na,[e.createElementVNode("div",{class:"mb-2 text-lg leading-6 font-medium text-gray-900 dark:text-gray-400",id:"modal-title","aria-label":i.selection.item.path,"data-microtip-position":"bottom-right",role:"tooltip"},e.toDisplayString(i.selection.item.basename),9,Va),e.createElementVNode("div",Ca,[l.value?(e.openBlock(),e.createElementBlock("button",{key:0,onClick:E,class:"ml-1 px-2 py-1 rounded border border-transparent shadow-sm bg-blue-700/75 hover:bg-blue-700 dark:bg-gray-700 dark:hover:bg-gray-700/50 text-base font-medium text-white sm:ml-3 sm:w-auto sm:text-sm"},e.toDisplayString(e.unref(h)("Save")),1)):e.createCommentVNode("",!0),e.createElementVNode("button",{class:"ml-1 px-2 py-1 text-blue-500",onClick:x[0]||(x[0]=M=>y())},e.toDisplayString(l.value?e.unref(h)("Cancel"):e.unref(h)("Edit")),1)])]),e.createElementVNode("div",null,[l.value?(e.openBlock(),e.createElementBlock("div",Ma,[e.withDirectives(e.createElementVNode("textarea",{ref_key:"editInput",ref:a,"onUpdate:modelValue":x[1]||(x[1]=M=>s.value=M),class:"w-full p-2 rounded dark:bg-gray-700 dark:text-gray-200 dark:focus:ring-gray-600 dark:focus:border-gray-600 dark:selection:bg-gray-500 min-h-[200px] max-h-[60vh] text-xs",name:"text",id:"",cols:"30",rows:"10"},null,512),[[e.vModelText,s.value]])])):(e.openBlock(),e.createElementBlock("pre",$a,e.toDisplayString(o.value),1)),p.value.length?(e.openBlock(),e.createBlock(le,{key:2,onHidden:x[2]||(x[2]=M=>p.value=""),error:f.value},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(p.value),1)]),_:1},8,["error"])):e.createCommentVNode("",!0)])],64))}},Uc="";/*!
 * Cropper.js v1.5.12
 * https://fengyuanchen.github.io/cropperjs
 *
 * Copyright 2015-present Chen Fengyuan
 * Released under the MIT license
 *
 * Date: 2021-06-12T08:00:17.411Z
 */function St(i,t){var r=Object.keys(i);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(i);t&&(o=o.filter(function(s){return Object.getOwnPropertyDescriptor(i,s).enumerable})),r.push.apply(r,o)}return r}function Dt(i){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?St(Object(r),!0).forEach(function(o){Oa(i,o,r[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(r)):St(Object(r)).forEach(function(o){Object.defineProperty(i,o,Object.getOwnPropertyDescriptor(r,o))})}return i}function He(i){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?He=function(t){return typeof t}:He=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},He(i)}function Ta(i,t){if(!(i instanceof t))throw new TypeError("Cannot call a class as a function")}function Et(i,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(i,o.key,o)}}function Aa(i,t,r){return t&&Et(i.prototype,t),r&&Et(i,r),i}function Oa(i,t,r){return t in i?Object.defineProperty(i,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):i[t]=r,i}function Nt(i){return ja(i)||Pa(i)||La(i)||Ia()}function ja(i){if(Array.isArray(i))return et(i)}function Pa(i){if(typeof Symbol<"u"&&i[Symbol.iterator]!=null||i["@@iterator"]!=null)return Array.from(i)}function La(i,t){if(!!i){if(typeof i=="string")return et(i,t);var r=Object.prototype.toString.call(i).slice(8,-1);if(r==="Object"&&i.constructor&&(r=i.constructor.name),r==="Map"||r==="Set")return Array.from(i);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return et(i,t)}}function et(i,t){(t==null||t>i.length)&&(t=i.length);for(var r=0,o=new Array(t);r<t;r++)o[r]=i[r];return o}function Ia(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Fe=typeof window<"u"&&typeof window.document<"u",ce=Fe?window:{},tt=Fe&&ce.document.documentElement?"ontouchstart"in ce.document.documentElement:!1,rt=Fe?"PointerEvent"in ce:!1,K="cropper",nt="all",Vt="crop",Ct="move",$t="zoom",ge="e",ye="w",we="s",he="n",Ce="ne",$e="nw",Me="se",Be="sw",ot="".concat(K,"-crop"),Mt="".concat(K,"-disabled"),ee="".concat(K,"-hidden"),Bt="".concat(K,"-hide"),za="".concat(K,"-invisible"),Ue="".concat(K,"-modal"),at="".concat(K,"-move"),Te="".concat(K,"Action"),Ke="".concat(K,"Preview"),it="crop",Tt="move",At="none",st="crop",lt="cropend",ct="cropmove",dt="cropstart",Ot="dblclick",Ra=tt?"touchstart":"mousedown",Ha=tt?"touchmove":"mousemove",Fa=tt?"touchend touchcancel":"mouseup",jt=rt?"pointerdown":Ra,Pt=rt?"pointermove":Ha,Lt=rt?"pointerup pointercancel":Fa,It="ready",zt="resize",Rt="wheel",ht="zoom",Ht="image/jpeg",Ua=/^e|w|s|n|se|sw|ne|nw|all|crop|move|zoom$/,Ka=/^data:/,Ya=/^data:image\/jpeg;base64,/,Wa=/^img|canvas$/i,Ft=200,Ut=100,Kt={viewMode:0,dragMode:it,initialAspectRatio:NaN,aspectRatio:NaN,data:null,preview:"",responsive:!0,restore:!0,checkCrossOrigin:!0,checkOrientation:!0,modal:!0,guides:!0,center:!0,highlight:!0,background:!0,autoCrop:!0,autoCropArea:.8,movable:!0,rotatable:!0,scalable:!0,zoomable:!0,zoomOnTouch:!0,zoomOnWheel:!0,wheelZoomRatio:.1,cropBoxMovable:!0,cropBoxResizable:!0,toggleDragModeOnDblclick:!0,minCanvasWidth:0,minCanvasHeight:0,minCropBoxWidth:0,minCropBoxHeight:0,minContainerWidth:Ft,minContainerHeight:Ut,ready:null,cropstart:null,cropmove:null,cropend:null,crop:null,zoom:null},Xa='<div class="cropper-container" touch-action="none"><div class="cropper-wrap-box"><div class="cropper-canvas"></div></div><div class="cropper-drag-box"></div><div class="cropper-crop-box"><span class="cropper-view-box"></span><span class="cropper-dashed dashed-h"></span><span class="cropper-dashed dashed-v"></span><span class="cropper-center"></span><span class="cropper-face"></span><span class="cropper-line line-e" data-cropper-action="e"></span><span class="cropper-line line-n" data-cropper-action="n"></span><span class="cropper-line line-w" data-cropper-action="w"></span><span class="cropper-line line-s" data-cropper-action="s"></span><span class="cropper-point point-e" data-cropper-action="e"></span><span class="cropper-point point-n" data-cropper-action="n"></span><span class="cropper-point point-w" data-cropper-action="w"></span><span class="cropper-point point-s" data-cropper-action="s"></span><span class="cropper-point point-ne" data-cropper-action="ne"></span><span class="cropper-point point-nw" data-cropper-action="nw"></span><span class="cropper-point point-sw" data-cropper-action="sw"></span><span class="cropper-point point-se" data-cropper-action="se"></span></div></div>',qa=Number.isNaN||ce.isNaN;function R(i){return typeof i=="number"&&!qa(i)}var Yt=function(t){return t>0&&t<1/0};function ut(i){return typeof i>"u"}function be(i){return He(i)==="object"&&i!==null}var Ga=Object.prototype.hasOwnProperty;function ve(i){if(!be(i))return!1;try{var t=i.constructor,r=t.prototype;return t&&r&&Ga.call(r,"isPrototypeOf")}catch{return!1}}function te(i){return typeof i=="function"}var Ja=Array.prototype.slice;function Wt(i){return Array.from?Array.from(i):Ja.call(i)}function q(i,t){return i&&te(t)&&(Array.isArray(i)||R(i.length)?Wt(i).forEach(function(r,o){t.call(i,r,o,i)}):be(i)&&Object.keys(i).forEach(function(r){t.call(i,i[r],r,i)})),i}var Y=Object.assign||function(t){for(var r=arguments.length,o=new Array(r>1?r-1:0),s=1;s<r;s++)o[s-1]=arguments[s];return be(t)&&o.length>0&&o.forEach(function(a){be(a)&&Object.keys(a).forEach(function(l){t[l]=a[l]})}),t},Za=/\.\d*(?:0|9){12}\d*$/;function ke(i){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e11;return Za.test(i)?Math.round(i*t)/t:i}var Qa=/^width|height|left|top|marginLeft|marginTop$/;function ue(i,t){var r=i.style;q(t,function(o,s){Qa.test(s)&&R(o)&&(o="".concat(o,"px")),r[s]=o})}function ei(i,t){return i.classList?i.classList.contains(t):i.className.indexOf(t)>-1}function Z(i,t){if(!!t){if(R(i.length)){q(i,function(o){Z(o,t)});return}if(i.classList){i.classList.add(t);return}var r=i.className.trim();r?r.indexOf(t)<0&&(i.className="".concat(r," ").concat(t)):i.className=t}}function de(i,t){if(!!t){if(R(i.length)){q(i,function(r){de(r,t)});return}if(i.classList){i.classList.remove(t);return}i.className.indexOf(t)>=0&&(i.className=i.className.replace(t,""))}}function _e(i,t,r){if(!!t){if(R(i.length)){q(i,function(o){_e(o,t,r)});return}r?Z(i,t):de(i,t)}}var ti=/([a-z\d])([A-Z])/g;function mt(i){return i.replace(ti,"$1-$2").toLowerCase()}function ft(i,t){return be(i[t])?i[t]:i.dataset?i.dataset[t]:i.getAttribute("data-".concat(mt(t)))}function Ae(i,t,r){be(r)?i[t]=r:i.dataset?i.dataset[t]=r:i.setAttribute("data-".concat(mt(t)),r)}function ri(i,t){if(be(i[t]))try{delete i[t]}catch{i[t]=void 0}else if(i.dataset)try{delete i.dataset[t]}catch{i.dataset[t]=void 0}else i.removeAttribute("data-".concat(mt(t)))}var Xt=/\s\s*/,qt=function(){var i=!1;if(Fe){var t=!1,r=function(){},o=Object.defineProperty({},"once",{get:function(){return i=!0,t},set:function(a){t=a}});ce.addEventListener("test",r,o),ce.removeEventListener("test",r,o)}return i}();function ae(i,t,r){var o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},s=r;t.trim().split(Xt).forEach(function(a){if(!qt){var l=i.listeners;l&&l[a]&&l[a][r]&&(s=l[a][r],delete l[a][r],Object.keys(l[a]).length===0&&delete l[a],Object.keys(l).length===0&&delete i.listeners)}i.removeEventListener(a,s,o)})}function oe(i,t,r){var o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},s=r;t.trim().split(Xt).forEach(function(a){if(o.once&&!qt){var l=i.listeners,m=l===void 0?{}:l;s=function(){delete m[a][r],i.removeEventListener(a,s,o);for(var f=arguments.length,h=new Array(f),y=0;y<f;y++)h[y]=arguments[y];r.apply(i,h)},m[a]||(m[a]={}),m[a][r]&&i.removeEventListener(a,m[a][r],o),m[a][r]=s,i.listeners=m}i.addEventListener(a,s,o)})}function xe(i,t,r){var o;return te(Event)&&te(CustomEvent)?o=new CustomEvent(t,{detail:r,bubbles:!0,cancelable:!0}):(o=document.createEvent("CustomEvent"),o.initCustomEvent(t,!0,!0,r)),i.dispatchEvent(o)}function Gt(i){var t=i.getBoundingClientRect();return{left:t.left+(window.pageXOffset-document.documentElement.clientLeft),top:t.top+(window.pageYOffset-document.documentElement.clientTop)}}var pt=ce.location,ni=/^(\w+:)\/\/([^:/?#]*):?(\d*)/i;function Jt(i){var t=i.match(ni);return t!==null&&(t[1]!==pt.protocol||t[2]!==pt.hostname||t[3]!==pt.port)}function Zt(i){var t="timestamp=".concat(new Date().getTime());return i+(i.indexOf("?")===-1?"?":"&")+t}function Oe(i){var t=i.rotate,r=i.scaleX,o=i.scaleY,s=i.translateX,a=i.translateY,l=[];R(s)&&s!==0&&l.push("translateX(".concat(s,"px)")),R(a)&&a!==0&&l.push("translateY(".concat(a,"px)")),R(t)&&t!==0&&l.push("rotate(".concat(t,"deg)")),R(r)&&r!==1&&l.push("scaleX(".concat(r,")")),R(o)&&o!==1&&l.push("scaleY(".concat(o,")"));var m=l.length?l.join(" "):"none";return{WebkitTransform:m,msTransform:m,transform:m}}function oi(i){var t=Dt({},i),r=0;return q(i,function(o,s){delete t[s],q(t,function(a){var l=Math.abs(o.startX-a.startX),m=Math.abs(o.startY-a.startY),p=Math.abs(o.endX-a.endX),f=Math.abs(o.endY-a.endY),h=Math.sqrt(l*l+m*m),y=Math.sqrt(p*p+f*f),b=(y-h)/h;Math.abs(b)>Math.abs(r)&&(r=b)})}),r}function Ye(i,t){var r=i.pageX,o=i.pageY,s={endX:r,endY:o};return t?s:Dt({startX:r,startY:o},s)}function ai(i){var t=0,r=0,o=0;return q(i,function(s){var a=s.startX,l=s.startY;t+=a,r+=l,o+=1}),t/=o,r/=o,{pageX:t,pageY:r}}function me(i){var t=i.aspectRatio,r=i.height,o=i.width,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"contain",a=Yt(o),l=Yt(r);if(a&&l){var m=r*t;s==="contain"&&m>o||s==="cover"&&m<o?r=o/t:o=r*t}else a?r=o/t:l&&(o=r*t);return{width:o,height:r}}function ii(i){var t=i.width,r=i.height,o=i.degree;if(o=Math.abs(o)%180,o===90)return{width:r,height:t};var s=o%90*Math.PI/180,a=Math.sin(s),l=Math.cos(s),m=t*l+r*a,p=t*a+r*l;return o>90?{width:p,height:m}:{width:m,height:p}}function si(i,t,r,o){var s=t.aspectRatio,a=t.naturalWidth,l=t.naturalHeight,m=t.rotate,p=m===void 0?0:m,f=t.scaleX,h=f===void 0?1:f,y=t.scaleY,b=y===void 0?1:y,E=r.aspectRatio,k=r.naturalWidth,x=r.naturalHeight,M=o.fillColor,I=M===void 0?"transparent":M,O=o.imageSmoothingEnabled,N=O===void 0?!0:O,P=o.imageSmoothingQuality,H=P===void 0?"low":P,S=o.maxWidth,F=S===void 0?1/0:S,W=o.maxHeight,Q=W===void 0?1/0:W,re=o.minWidth,$=re===void 0?0:re,A=o.minHeight,B=A===void 0?0:A,z=document.createElement("canvas"),j=z.getContext("2d"),G=me({aspectRatio:E,width:F,height:Q}),U=me({aspectRatio:E,width:$,height:B},"cover"),je=Math.min(G.width,Math.max(U.width,k)),Pe=Math.min(G.height,Math.max(U.height,x)),We=me({aspectRatio:s,width:F,height:Q}),Xe=me({aspectRatio:s,width:$,height:B},"cover"),qe=Math.min(We.width,Math.max(Xe.width,a)),Se=Math.min(We.height,Math.max(Xe.height,l)),yt=[-qe/2,-Se/2,qe,Se];return z.width=ke(je),z.height=ke(Pe),j.fillStyle=I,j.fillRect(0,0,je,Pe),j.save(),j.translate(je/2,Pe/2),j.rotate(p*Math.PI/180),j.scale(h,b),j.imageSmoothingEnabled=N,j.imageSmoothingQuality=H,j.drawImage.apply(j,[i].concat(Nt(yt.map(function(De){return Math.floor(ke(De))})))),j.restore(),z}var Qt=String.fromCharCode;function li(i,t,r){var o="";r+=t;for(var s=t;s<r;s+=1)o+=Qt(i.getUint8(s));return o}var ci=/^data:.*,/;function di(i){var t=i.replace(ci,""),r=atob(t),o=new ArrayBuffer(r.length),s=new Uint8Array(o);return q(s,function(a,l){s[l]=r.charCodeAt(l)}),o}function hi(i,t){for(var r=[],o=8192,s=new Uint8Array(i);s.length>0;)r.push(Qt.apply(null,Wt(s.subarray(0,o)))),s=s.subarray(o);return"data:".concat(t,";base64,").concat(btoa(r.join("")))}function ui(i){var t=new DataView(i),r;try{var o,s,a;if(t.getUint8(0)===255&&t.getUint8(1)===216)for(var l=t.byteLength,m=2;m+1<l;){if(t.getUint8(m)===255&&t.getUint8(m+1)===225){s=m;break}m+=1}if(s){var p=s+4,f=s+10;if(li(t,p,4)==="Exif"){var h=t.getUint16(f);if(o=h===18761,(o||h===19789)&&t.getUint16(f+2,o)===42){var y=t.getUint32(f+4,o);y>=8&&(a=f+y)}}}if(a){var b=t.getUint16(a,o),E,k;for(k=0;k<b;k+=1)if(E=a+k*12+2,t.getUint16(E,o)===274){E+=8,r=t.getUint16(E,o),t.setUint16(E,1,o);break}}}catch{r=1}return r}function mi(i){var t=0,r=1,o=1;switch(i){case 2:r=-1;break;case 3:t=-180;break;case 4:o=-1;break;case 5:t=90,o=-1;break;case 6:t=90;break;case 7:t=90,r=-1;break;case 8:t=-90;break}return{rotate:t,scaleX:r,scaleY:o}}var fi={render:function(){this.initContainer(),this.initCanvas(),this.initCropBox(),this.renderCanvas(),this.cropped&&this.renderCropBox()},initContainer:function(){var t=this.element,r=this.options,o=this.container,s=this.cropper,a=Number(r.minContainerWidth),l=Number(r.minContainerHeight);Z(s,ee),de(t,ee);var m={width:Math.max(o.offsetWidth,a>=0?a:Ft),height:Math.max(o.offsetHeight,l>=0?l:Ut)};this.containerData=m,ue(s,{width:m.width,height:m.height}),Z(t,ee),de(s,ee)},initCanvas:function(){var t=this.containerData,r=this.imageData,o=this.options.viewMode,s=Math.abs(r.rotate)%180===90,a=s?r.naturalHeight:r.naturalWidth,l=s?r.naturalWidth:r.naturalHeight,m=a/l,p=t.width,f=t.height;t.height*m>t.width?o===3?p=t.height*m:f=t.width/m:o===3?f=t.width/m:p=t.height*m;var h={aspectRatio:m,naturalWidth:a,naturalHeight:l,width:p,height:f};this.canvasData=h,this.limited=o===1||o===2,this.limitCanvas(!0,!0),h.width=Math.min(Math.max(h.width,h.minWidth),h.maxWidth),h.height=Math.min(Math.max(h.height,h.minHeight),h.maxHeight),h.left=(t.width-h.width)/2,h.top=(t.height-h.height)/2,h.oldLeft=h.left,h.oldTop=h.top,this.initialCanvasData=Y({},h)},limitCanvas:function(t,r){var o=this.options,s=this.containerData,a=this.canvasData,l=this.cropBoxData,m=o.viewMode,p=a.aspectRatio,f=this.cropped&&l;if(t){var h=Number(o.minCanvasWidth)||0,y=Number(o.minCanvasHeight)||0;m>1?(h=Math.max(h,s.width),y=Math.max(y,s.height),m===3&&(y*p>h?h=y*p:y=h/p)):m>0&&(h?h=Math.max(h,f?l.width:0):y?y=Math.max(y,f?l.height:0):f&&(h=l.width,y=l.height,y*p>h?h=y*p:y=h/p));var b=me({aspectRatio:p,width:h,height:y});h=b.width,y=b.height,a.minWidth=h,a.minHeight=y,a.maxWidth=1/0,a.maxHeight=1/0}if(r)if(m>(f?0:1)){var E=s.width-a.width,k=s.height-a.height;a.minLeft=Math.min(0,E),a.minTop=Math.min(0,k),a.maxLeft=Math.max(0,E),a.maxTop=Math.max(0,k),f&&this.limited&&(a.minLeft=Math.min(l.left,l.left+(l.width-a.width)),a.minTop=Math.min(l.top,l.top+(l.height-a.height)),a.maxLeft=l.left,a.maxTop=l.top,m===2&&(a.width>=s.width&&(a.minLeft=Math.min(0,E),a.maxLeft=Math.max(0,E)),a.height>=s.height&&(a.minTop=Math.min(0,k),a.maxTop=Math.max(0,k))))}else a.minLeft=-a.width,a.minTop=-a.height,a.maxLeft=s.width,a.maxTop=s.height},renderCanvas:function(t,r){var o=this.canvasData,s=this.imageData;if(r){var a=ii({width:s.naturalWidth*Math.abs(s.scaleX||1),height:s.naturalHeight*Math.abs(s.scaleY||1),degree:s.rotate||0}),l=a.width,m=a.height,p=o.width*(l/o.naturalWidth),f=o.height*(m/o.naturalHeight);o.left-=(p-o.width)/2,o.top-=(f-o.height)/2,o.width=p,o.height=f,o.aspectRatio=l/m,o.naturalWidth=l,o.naturalHeight=m,this.limitCanvas(!0,!1)}(o.width>o.maxWidth||o.width<o.minWidth)&&(o.left=o.oldLeft),(o.height>o.maxHeight||o.height<o.minHeight)&&(o.top=o.oldTop),o.width=Math.min(Math.max(o.width,o.minWidth),o.maxWidth),o.height=Math.min(Math.max(o.height,o.minHeight),o.maxHeight),this.limitCanvas(!1,!0),o.left=Math.min(Math.max(o.left,o.minLeft),o.maxLeft),o.top=Math.min(Math.max(o.top,o.minTop),o.maxTop),o.oldLeft=o.left,o.oldTop=o.top,ue(this.canvas,Y({width:o.width,height:o.height},Oe({translateX:o.left,translateY:o.top}))),this.renderImage(t),this.cropped&&this.limited&&this.limitCropBox(!0,!0)},renderImage:function(t){var r=this.canvasData,o=this.imageData,s=o.naturalWidth*(r.width/r.naturalWidth),a=o.naturalHeight*(r.height/r.naturalHeight);Y(o,{width:s,height:a,left:(r.width-s)/2,top:(r.height-a)/2}),ue(this.image,Y({width:o.width,height:o.height},Oe(Y({translateX:o.left,translateY:o.top},o)))),t&&this.output()},initCropBox:function(){var t=this.options,r=this.canvasData,o=t.aspectRatio||t.initialAspectRatio,s=Number(t.autoCropArea)||.8,a={width:r.width,height:r.height};o&&(r.height*o>r.width?a.height=a.width/o:a.width=a.height*o),this.cropBoxData=a,this.limitCropBox(!0,!0),a.width=Math.min(Math.max(a.width,a.minWidth),a.maxWidth),a.height=Math.min(Math.max(a.height,a.minHeight),a.maxHeight),a.width=Math.max(a.minWidth,a.width*s),a.height=Math.max(a.minHeight,a.height*s),a.left=r.left+(r.width-a.width)/2,a.top=r.top+(r.height-a.height)/2,a.oldLeft=a.left,a.oldTop=a.top,this.initialCropBoxData=Y({},a)},limitCropBox:function(t,r){var o=this.options,s=this.containerData,a=this.canvasData,l=this.cropBoxData,m=this.limited,p=o.aspectRatio;if(t){var f=Number(o.minCropBoxWidth)||0,h=Number(o.minCropBoxHeight)||0,y=m?Math.min(s.width,a.width,a.width+a.left,s.width-a.left):s.width,b=m?Math.min(s.height,a.height,a.height+a.top,s.height-a.top):s.height;f=Math.min(f,s.width),h=Math.min(h,s.height),p&&(f&&h?h*p>f?h=f/p:f=h*p:f?h=f/p:h&&(f=h*p),b*p>y?b=y/p:y=b*p),l.minWidth=Math.min(f,y),l.minHeight=Math.min(h,b),l.maxWidth=y,l.maxHeight=b}r&&(m?(l.minLeft=Math.max(0,a.left),l.minTop=Math.max(0,a.top),l.maxLeft=Math.min(s.width,a.left+a.width)-l.width,l.maxTop=Math.min(s.height,a.top+a.height)-l.height):(l.minLeft=0,l.minTop=0,l.maxLeft=s.width-l.width,l.maxTop=s.height-l.height))},renderCropBox:function(){var t=this.options,r=this.containerData,o=this.cropBoxData;(o.width>o.maxWidth||o.width<o.minWidth)&&(o.left=o.oldLeft),(o.height>o.maxHeight||o.height<o.minHeight)&&(o.top=o.oldTop),o.width=Math.min(Math.max(o.width,o.minWidth),o.maxWidth),o.height=Math.min(Math.max(o.height,o.minHeight),o.maxHeight),this.limitCropBox(!1,!0),o.left=Math.min(Math.max(o.left,o.minLeft),o.maxLeft),o.top=Math.min(Math.max(o.top,o.minTop),o.maxTop),o.oldLeft=o.left,o.oldTop=o.top,t.movable&&t.cropBoxMovable&&Ae(this.face,Te,o.width>=r.width&&o.height>=r.height?Ct:nt),ue(this.cropBox,Y({width:o.width,height:o.height},Oe({translateX:o.left,translateY:o.top}))),this.cropped&&this.limited&&this.limitCanvas(!0,!0),this.disabled||this.output()},output:function(){this.preview(),xe(this.element,st,this.getData())}},pi={initPreview:function(){var t=this.element,r=this.crossOrigin,o=this.options.preview,s=r?this.crossOriginUrl:this.url,a=t.alt||"The image to preview",l=document.createElement("img");if(r&&(l.crossOrigin=r),l.src=s,l.alt=a,this.viewBox.appendChild(l),this.viewBoxImage=l,!!o){var m=o;typeof o=="string"?m=t.ownerDocument.querySelectorAll(o):o.querySelector&&(m=[o]),this.previews=m,q(m,function(p){var f=document.createElement("img");Ae(p,Ke,{width:p.offsetWidth,height:p.offsetHeight,html:p.innerHTML}),r&&(f.crossOrigin=r),f.src=s,f.alt=a,f.style.cssText='display:block;width:100%;height:auto;min-width:0!important;min-height:0!important;max-width:none!important;max-height:none!important;image-orientation:0deg!important;"',p.innerHTML="",p.appendChild(f)})}},resetPreview:function(){q(this.previews,function(t){var r=ft(t,Ke);ue(t,{width:r.width,height:r.height}),t.innerHTML=r.html,ri(t,Ke)})},preview:function(){var t=this.imageData,r=this.canvasData,o=this.cropBoxData,s=o.width,a=o.height,l=t.width,m=t.height,p=o.left-r.left-t.left,f=o.top-r.top-t.top;!this.cropped||this.disabled||(ue(this.viewBoxImage,Y({width:l,height:m},Oe(Y({translateX:-p,translateY:-f},t)))),q(this.previews,function(h){var y=ft(h,Ke),b=y.width,E=y.height,k=b,x=E,M=1;s&&(M=b/s,x=a*M),a&&x>E&&(M=E/a,k=s*M,x=E),ue(h,{width:k,height:x}),ue(h.getElementsByTagName("img")[0],Y({width:l*M,height:m*M},Oe(Y({translateX:-p*M,translateY:-f*M},t))))}))}},gi={bind:function(){var t=this.element,r=this.options,o=this.cropper;te(r.cropstart)&&oe(t,dt,r.cropstart),te(r.cropmove)&&oe(t,ct,r.cropmove),te(r.cropend)&&oe(t,lt,r.cropend),te(r.crop)&&oe(t,st,r.crop),te(r.zoom)&&oe(t,ht,r.zoom),oe(o,jt,this.onCropStart=this.cropStart.bind(this)),r.zoomable&&r.zoomOnWheel&&oe(o,Rt,this.onWheel=this.wheel.bind(this),{passive:!1,capture:!0}),r.toggleDragModeOnDblclick&&oe(o,Ot,this.onDblclick=this.dblclick.bind(this)),oe(t.ownerDocument,Pt,this.onCropMove=this.cropMove.bind(this)),oe(t.ownerDocument,Lt,this.onCropEnd=this.cropEnd.bind(this)),r.responsive&&oe(window,zt,this.onResize=this.resize.bind(this))},unbind:function(){var t=this.element,r=this.options,o=this.cropper;te(r.cropstart)&&ae(t,dt,r.cropstart),te(r.cropmove)&&ae(t,ct,r.cropmove),te(r.cropend)&&ae(t,lt,r.cropend),te(r.crop)&&ae(t,st,r.crop),te(r.zoom)&&ae(t,ht,r.zoom),ae(o,jt,this.onCropStart),r.zoomable&&r.zoomOnWheel&&ae(o,Rt,this.onWheel,{passive:!1,capture:!0}),r.toggleDragModeOnDblclick&&ae(o,Ot,this.onDblclick),ae(t.ownerDocument,Pt,this.onCropMove),ae(t.ownerDocument,Lt,this.onCropEnd),r.responsive&&ae(window,zt,this.onResize)}},yi={resize:function(){if(!this.disabled){var t=this.options,r=this.container,o=this.containerData,s=r.offsetWidth/o.width,a=r.offsetHeight/o.height,l=Math.abs(s-1)>Math.abs(a-1)?s:a;if(l!==1){var m,p;t.restore&&(m=this.getCanvasData(),p=this.getCropBoxData()),this.render(),t.restore&&(this.setCanvasData(q(m,function(f,h){m[h]=f*l})),this.setCropBoxData(q(p,function(f,h){p[h]=f*l})))}}},dblclick:function(){this.disabled||this.options.dragMode===At||this.setDragMode(ei(this.dragBox,ot)?Tt:it)},wheel:function(t){var r=this,o=Number(this.options.wheelZoomRatio)||.1,s=1;this.disabled||(t.preventDefault(),!this.wheeling&&(this.wheeling=!0,setTimeout(function(){r.wheeling=!1},50),t.deltaY?s=t.deltaY>0?1:-1:t.wheelDelta?s=-t.wheelDelta/120:t.detail&&(s=t.detail>0?1:-1),this.zoom(-s*o,t)))},cropStart:function(t){var r=t.buttons,o=t.button;if(!(this.disabled||(t.type==="mousedown"||t.type==="pointerdown"&&t.pointerType==="mouse")&&(R(r)&&r!==1||R(o)&&o!==0||t.ctrlKey))){var s=this.options,a=this.pointers,l;t.changedTouches?q(t.changedTouches,function(m){a[m.identifier]=Ye(m)}):a[t.pointerId||0]=Ye(t),Object.keys(a).length>1&&s.zoomable&&s.zoomOnTouch?l=$t:l=ft(t.target,Te),!!Ua.test(l)&&xe(this.element,dt,{originalEvent:t,action:l})!==!1&&(t.preventDefault(),this.action=l,this.cropping=!1,l===Vt&&(this.cropping=!0,Z(this.dragBox,Ue)))}},cropMove:function(t){var r=this.action;if(!(this.disabled||!r)){var o=this.pointers;t.preventDefault(),xe(this.element,ct,{originalEvent:t,action:r})!==!1&&(t.changedTouches?q(t.changedTouches,function(s){Y(o[s.identifier]||{},Ye(s,!0))}):Y(o[t.pointerId||0]||{},Ye(t,!0)),this.change(t))}},cropEnd:function(t){if(!this.disabled){var r=this.action,o=this.pointers;t.changedTouches?q(t.changedTouches,function(s){delete o[s.identifier]}):delete o[t.pointerId||0],r&&(t.preventDefault(),Object.keys(o).length||(this.action=""),this.cropping&&(this.cropping=!1,_e(this.dragBox,Ue,this.cropped&&this.options.modal)),xe(this.element,lt,{originalEvent:t,action:r}))}}},bi={change:function(t){var r=this.options,o=this.canvasData,s=this.containerData,a=this.cropBoxData,l=this.pointers,m=this.action,p=r.aspectRatio,f=a.left,h=a.top,y=a.width,b=a.height,E=f+y,k=h+b,x=0,M=0,I=s.width,O=s.height,N=!0,P;!p&&t.shiftKey&&(p=y&&b?y/b:1),this.limited&&(x=a.minLeft,M=a.minTop,I=x+Math.min(s.width,o.width,o.left+o.width),O=M+Math.min(s.height,o.height,o.top+o.height));var H=l[Object.keys(l)[0]],S={x:H.endX-H.startX,y:H.endY-H.startY},F=function(Q){switch(Q){case ge:E+S.x>I&&(S.x=I-E);break;case ye:f+S.x<x&&(S.x=x-f);break;case he:h+S.y<M&&(S.y=M-h);break;case we:k+S.y>O&&(S.y=O-k);break}};switch(m){case nt:f+=S.x,h+=S.y;break;case ge:if(S.x>=0&&(E>=I||p&&(h<=M||k>=O))){N=!1;break}F(ge),y+=S.x,y<0&&(m=ye,y=-y,f-=y),p&&(b=y/p,h+=(a.height-b)/2);break;case he:if(S.y<=0&&(h<=M||p&&(f<=x||E>=I))){N=!1;break}F(he),b-=S.y,h+=S.y,b<0&&(m=we,b=-b,h-=b),p&&(y=b*p,f+=(a.width-y)/2);break;case ye:if(S.x<=0&&(f<=x||p&&(h<=M||k>=O))){N=!1;break}F(ye),y-=S.x,f+=S.x,y<0&&(m=ge,y=-y,f-=y),p&&(b=y/p,h+=(a.height-b)/2);break;case we:if(S.y>=0&&(k>=O||p&&(f<=x||E>=I))){N=!1;break}F(we),b+=S.y,b<0&&(m=he,b=-b,h-=b),p&&(y=b*p,f+=(a.width-y)/2);break;case Ce:if(p){if(S.y<=0&&(h<=M||E>=I)){N=!1;break}F(he),b-=S.y,h+=S.y,y=b*p}else F(he),F(ge),S.x>=0?E<I?y+=S.x:S.y<=0&&h<=M&&(N=!1):y+=S.x,S.y<=0?h>M&&(b-=S.y,h+=S.y):(b-=S.y,h+=S.y);y<0&&b<0?(m=Be,b=-b,y=-y,h-=b,f-=y):y<0?(m=$e,y=-y,f-=y):b<0&&(m=Me,b=-b,h-=b);break;case $e:if(p){if(S.y<=0&&(h<=M||f<=x)){N=!1;break}F(he),b-=S.y,h+=S.y,y=b*p,f+=a.width-y}else F(he),F(ye),S.x<=0?f>x?(y-=S.x,f+=S.x):S.y<=0&&h<=M&&(N=!1):(y-=S.x,f+=S.x),S.y<=0?h>M&&(b-=S.y,h+=S.y):(b-=S.y,h+=S.y);y<0&&b<0?(m=Me,b=-b,y=-y,h-=b,f-=y):y<0?(m=Ce,y=-y,f-=y):b<0&&(m=Be,b=-b,h-=b);break;case Be:if(p){if(S.x<=0&&(f<=x||k>=O)){N=!1;break}F(ye),y-=S.x,f+=S.x,b=y/p}else F(we),F(ye),S.x<=0?f>x?(y-=S.x,f+=S.x):S.y>=0&&k>=O&&(N=!1):(y-=S.x,f+=S.x),S.y>=0?k<O&&(b+=S.y):b+=S.y;y<0&&b<0?(m=Ce,b=-b,y=-y,h-=b,f-=y):y<0?(m=Me,y=-y,f-=y):b<0&&(m=$e,b=-b,h-=b);break;case Me:if(p){if(S.x>=0&&(E>=I||k>=O)){N=!1;break}F(ge),y+=S.x,b=y/p}else F(we),F(ge),S.x>=0?E<I?y+=S.x:S.y>=0&&k>=O&&(N=!1):y+=S.x,S.y>=0?k<O&&(b+=S.y):b+=S.y;y<0&&b<0?(m=$e,b=-b,y=-y,h-=b,f-=y):y<0?(m=Be,y=-y,f-=y):b<0&&(m=Ce,b=-b,h-=b);break;case Ct:this.move(S.x,S.y),N=!1;break;case $t:this.zoom(oi(l),t),N=!1;break;case Vt:if(!S.x||!S.y){N=!1;break}P=Gt(this.cropper),f=H.startX-P.left,h=H.startY-P.top,y=a.minWidth,b=a.minHeight,S.x>0?m=S.y>0?Me:Ce:S.x<0&&(f-=y,m=S.y>0?Be:$e),S.y<0&&(h-=b),this.cropped||(de(this.cropBox,ee),this.cropped=!0,this.limited&&this.limitCropBox(!0,!0));break}N&&(a.width=y,a.height=b,a.left=f,a.top=h,this.action=m,this.renderCropBox()),q(l,function(W){W.startX=W.endX,W.startY=W.endY})}},wi={crop:function(){return this.ready&&!this.cropped&&!this.disabled&&(this.cropped=!0,this.limitCropBox(!0,!0),this.options.modal&&Z(this.dragBox,Ue),de(this.cropBox,ee),this.setCropBoxData(this.initialCropBoxData)),this},reset:function(){return this.ready&&!this.disabled&&(this.imageData=Y({},this.initialImageData),this.canvasData=Y({},this.initialCanvasData),this.cropBoxData=Y({},this.initialCropBoxData),this.renderCanvas(),this.cropped&&this.renderCropBox()),this},clear:function(){return this.cropped&&!this.disabled&&(Y(this.cropBoxData,{left:0,top:0,width:0,height:0}),this.cropped=!1,this.renderCropBox(),this.limitCanvas(!0,!0),this.renderCanvas(),de(this.dragBox,Ue),Z(this.cropBox,ee)),this},replace:function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return!this.disabled&&t&&(this.isImg&&(this.element.src=t),r?(this.url=t,this.image.src=t,this.ready&&(this.viewBoxImage.src=t,q(this.previews,function(o){o.getElementsByTagName("img")[0].src=t}))):(this.isImg&&(this.replaced=!0),this.options.data=null,this.uncreate(),this.load(t))),this},enable:function(){return this.ready&&this.disabled&&(this.disabled=!1,de(this.cropper,Mt)),this},disable:function(){return this.ready&&!this.disabled&&(this.disabled=!0,Z(this.cropper,Mt)),this},destroy:function(){var t=this.element;return t[K]?(t[K]=void 0,this.isImg&&this.replaced&&(t.src=this.originalUrl),this.uncreate(),this):this},move:function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t,o=this.canvasData,s=o.left,a=o.top;return this.moveTo(ut(t)?t:s+Number(t),ut(r)?r:a+Number(r))},moveTo:function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t,o=this.canvasData,s=!1;return t=Number(t),r=Number(r),this.ready&&!this.disabled&&this.options.movable&&(R(t)&&(o.left=t,s=!0),R(r)&&(o.top=r,s=!0),s&&this.renderCanvas(!0)),this},zoom:function(t,r){var o=this.canvasData;return t=Number(t),t<0?t=1/(1-t):t=1+t,this.zoomTo(o.width*t/o.naturalWidth,null,r)},zoomTo:function(t,r,o){var s=this.options,a=this.canvasData,l=a.width,m=a.height,p=a.naturalWidth,f=a.naturalHeight;if(t=Number(t),t>=0&&this.ready&&!this.disabled&&s.zoomable){var h=p*t,y=f*t;if(xe(this.element,ht,{ratio:t,oldRatio:l/p,originalEvent:o})===!1)return this;if(o){var b=this.pointers,E=Gt(this.cropper),k=b&&Object.keys(b).length?ai(b):{pageX:o.pageX,pageY:o.pageY};a.left-=(h-l)*((k.pageX-E.left-a.left)/l),a.top-=(y-m)*((k.pageY-E.top-a.top)/m)}else ve(r)&&R(r.x)&&R(r.y)?(a.left-=(h-l)*((r.x-a.left)/l),a.top-=(y-m)*((r.y-a.top)/m)):(a.left-=(h-l)/2,a.top-=(y-m)/2);a.width=h,a.height=y,this.renderCanvas(!0)}return this},rotate:function(t){return this.rotateTo((this.imageData.rotate||0)+Number(t))},rotateTo:function(t){return t=Number(t),R(t)&&this.ready&&!this.disabled&&this.options.rotatable&&(this.imageData.rotate=t%360,this.renderCanvas(!0,!0)),this},scaleX:function(t){var r=this.imageData.scaleY;return this.scale(t,R(r)?r:1)},scaleY:function(t){var r=this.imageData.scaleX;return this.scale(R(r)?r:1,t)},scale:function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t,o=this.imageData,s=!1;return t=Number(t),r=Number(r),this.ready&&!this.disabled&&this.options.scalable&&(R(t)&&(o.scaleX=t,s=!0),R(r)&&(o.scaleY=r,s=!0),s&&this.renderCanvas(!0,!0)),this},getData:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,r=this.options,o=this.imageData,s=this.canvasData,a=this.cropBoxData,l;if(this.ready&&this.cropped){l={x:a.left-s.left,y:a.top-s.top,width:a.width,height:a.height};var m=o.width/o.naturalWidth;if(q(l,function(h,y){l[y]=h/m}),t){var p=Math.round(l.y+l.height),f=Math.round(l.x+l.width);l.x=Math.round(l.x),l.y=Math.round(l.y),l.width=f-l.x,l.height=p-l.y}}else l={x:0,y:0,width:0,height:0};return r.rotatable&&(l.rotate=o.rotate||0),r.scalable&&(l.scaleX=o.scaleX||1,l.scaleY=o.scaleY||1),l},setData:function(t){var r=this.options,o=this.imageData,s=this.canvasData,a={};if(this.ready&&!this.disabled&&ve(t)){var l=!1;r.rotatable&&R(t.rotate)&&t.rotate!==o.rotate&&(o.rotate=t.rotate,l=!0),r.scalable&&(R(t.scaleX)&&t.scaleX!==o.scaleX&&(o.scaleX=t.scaleX,l=!0),R(t.scaleY)&&t.scaleY!==o.scaleY&&(o.scaleY=t.scaleY,l=!0)),l&&this.renderCanvas(!0,!0);var m=o.width/o.naturalWidth;R(t.x)&&(a.left=t.x*m+s.left),R(t.y)&&(a.top=t.y*m+s.top),R(t.width)&&(a.width=t.width*m),R(t.height)&&(a.height=t.height*m),this.setCropBoxData(a)}return this},getContainerData:function(){return this.ready?Y({},this.containerData):{}},getImageData:function(){return this.sized?Y({},this.imageData):{}},getCanvasData:function(){var t=this.canvasData,r={};return this.ready&&q(["left","top","width","height","naturalWidth","naturalHeight"],function(o){r[o]=t[o]}),r},setCanvasData:function(t){var r=this.canvasData,o=r.aspectRatio;return this.ready&&!this.disabled&&ve(t)&&(R(t.left)&&(r.left=t.left),R(t.top)&&(r.top=t.top),R(t.width)?(r.width=t.width,r.height=t.width/o):R(t.height)&&(r.height=t.height,r.width=t.height*o),this.renderCanvas(!0)),this},getCropBoxData:function(){var t=this.cropBoxData,r;return this.ready&&this.cropped&&(r={left:t.left,top:t.top,width:t.width,height:t.height}),r||{}},setCropBoxData:function(t){var r=this.cropBoxData,o=this.options.aspectRatio,s,a;return this.ready&&this.cropped&&!this.disabled&&ve(t)&&(R(t.left)&&(r.left=t.left),R(t.top)&&(r.top=t.top),R(t.width)&&t.width!==r.width&&(s=!0,r.width=t.width),R(t.height)&&t.height!==r.height&&(a=!0,r.height=t.height),o&&(s?r.height=r.width/o:a&&(r.width=r.height*o)),this.renderCropBox()),this},getCroppedCanvas:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!this.ready||!window.HTMLCanvasElement)return null;var r=this.canvasData,o=si(this.image,this.imageData,r,t);if(!this.cropped)return o;var s=this.getData(),a=s.x,l=s.y,m=s.width,p=s.height,f=o.width/Math.floor(r.naturalWidth);f!==1&&(a*=f,l*=f,m*=f,p*=f);var h=m/p,y=me({aspectRatio:h,width:t.maxWidth||1/0,height:t.maxHeight||1/0}),b=me({aspectRatio:h,width:t.minWidth||0,height:t.minHeight||0},"cover"),E=me({aspectRatio:h,width:t.width||(f!==1?o.width:m),height:t.height||(f!==1?o.height:p)}),k=E.width,x=E.height;k=Math.min(y.width,Math.max(b.width,k)),x=Math.min(y.height,Math.max(b.height,x));var M=document.createElement("canvas"),I=M.getContext("2d");M.width=ke(k),M.height=ke(x),I.fillStyle=t.fillColor||"transparent",I.fillRect(0,0,k,x);var O=t.imageSmoothingEnabled,N=O===void 0?!0:O,P=t.imageSmoothingQuality;I.imageSmoothingEnabled=N,P&&(I.imageSmoothingQuality=P);var H=o.width,S=o.height,F=a,W=l,Q,re,$,A,B,z;F<=-m||F>H?(F=0,Q=0,$=0,B=0):F<=0?($=-F,F=0,Q=Math.min(H,m+F),B=Q):F<=H&&($=0,Q=Math.min(m,H-F),B=Q),Q<=0||W<=-p||W>S?(W=0,re=0,A=0,z=0):W<=0?(A=-W,W=0,re=Math.min(S,p+W),z=re):W<=S&&(A=0,re=Math.min(p,S-W),z=re);var j=[F,W,Q,re];if(B>0&&z>0){var G=k/m;j.push($*G,A*G,B*G,z*G)}return I.drawImage.apply(I,[o].concat(Nt(j.map(function(U){return Math.floor(ke(U))})))),M},setAspectRatio:function(t){var r=this.options;return!this.disabled&&!ut(t)&&(r.aspectRatio=Math.max(0,t)||NaN,this.ready&&(this.initCropBox(),this.cropped&&this.renderCropBox())),this},setDragMode:function(t){var r=this.options,o=this.dragBox,s=this.face;if(this.ready&&!this.disabled){var a=t===it,l=r.movable&&t===Tt;t=a||l?t:At,r.dragMode=t,Ae(o,Te,t),_e(o,ot,a),_e(o,at,l),r.cropBoxMovable||(Ae(s,Te,t),_e(s,ot,a),_e(s,at,l))}return this}},vi=ce.Cropper,er=function(){function i(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(Ta(this,i),!t||!Wa.test(t.tagName))throw new Error("The first argument is required and must be an <img> or <canvas> element.");this.element=t,this.options=Y({},Kt,ve(r)&&r),this.cropped=!1,this.disabled=!1,this.pointers={},this.ready=!1,this.reloading=!1,this.replaced=!1,this.sized=!1,this.sizing=!1,this.init()}return Aa(i,[{key:"init",value:function(){var r=this.element,o=r.tagName.toLowerCase(),s;if(!r[K]){if(r[K]=this,o==="img"){if(this.isImg=!0,s=r.getAttribute("src")||"",this.originalUrl=s,!s)return;s=r.src}else o==="canvas"&&window.HTMLCanvasElement&&(s=r.toDataURL());this.load(s)}}},{key:"load",value:function(r){var o=this;if(!!r){this.url=r,this.imageData={};var s=this.element,a=this.options;if(!a.rotatable&&!a.scalable&&(a.checkOrientation=!1),!a.checkOrientation||!window.ArrayBuffer){this.clone();return}if(Ka.test(r)){Ya.test(r)?this.read(di(r)):this.clone();return}var l=new XMLHttpRequest,m=this.clone.bind(this);this.reloading=!0,this.xhr=l,l.onabort=m,l.onerror=m,l.ontimeout=m,l.onprogress=function(){l.getResponseHeader("content-type")!==Ht&&l.abort()},l.onload=function(){o.read(l.response)},l.onloadend=function(){o.reloading=!1,o.xhr=null},a.checkCrossOrigin&&Jt(r)&&s.crossOrigin&&(r=Zt(r)),l.open("GET",r,!0),l.responseType="arraybuffer",l.withCredentials=s.crossOrigin==="use-credentials",l.send()}}},{key:"read",value:function(r){var o=this.options,s=this.imageData,a=ui(r),l=0,m=1,p=1;if(a>1){this.url=hi(r,Ht);var f=mi(a);l=f.rotate,m=f.scaleX,p=f.scaleY}o.rotatable&&(s.rotate=l),o.scalable&&(s.scaleX=m,s.scaleY=p),this.clone()}},{key:"clone",value:function(){var r=this.element,o=this.url,s=r.crossOrigin,a=o;this.options.checkCrossOrigin&&Jt(o)&&(s||(s="anonymous"),a=Zt(o)),this.crossOrigin=s,this.crossOriginUrl=a;var l=document.createElement("img");s&&(l.crossOrigin=s),l.src=a||o,l.alt=r.alt||"The image to crop",this.image=l,l.onload=this.start.bind(this),l.onerror=this.stop.bind(this),Z(l,Bt),r.parentNode.insertBefore(l,r.nextSibling)}},{key:"start",value:function(){var r=this,o=this.image;o.onload=null,o.onerror=null,this.sizing=!0;var s=ce.navigator&&/(?:iPad|iPhone|iPod).*?AppleWebKit/i.test(ce.navigator.userAgent),a=function(f,h){Y(r.imageData,{naturalWidth:f,naturalHeight:h,aspectRatio:f/h}),r.initialImageData=Y({},r.imageData),r.sizing=!1,r.sized=!0,r.build()};if(o.naturalWidth&&!s){a(o.naturalWidth,o.naturalHeight);return}var l=document.createElement("img"),m=document.body||document.documentElement;this.sizingImage=l,l.onload=function(){a(l.width,l.height),s||m.removeChild(l)},l.src=o.src,s||(l.style.cssText="left:0;max-height:none!important;max-width:none!important;min-height:0!important;min-width:0!important;opacity:0;position:absolute;top:0;z-index:-1;",m.appendChild(l))}},{key:"stop",value:function(){var r=this.image;r.onload=null,r.onerror=null,r.parentNode.removeChild(r),this.image=null}},{key:"build",value:function(){if(!(!this.sized||this.ready)){var r=this.element,o=this.options,s=this.image,a=r.parentNode,l=document.createElement("div");l.innerHTML=Xa;var m=l.querySelector(".".concat(K,"-container")),p=m.querySelector(".".concat(K,"-canvas")),f=m.querySelector(".".concat(K,"-drag-box")),h=m.querySelector(".".concat(K,"-crop-box")),y=h.querySelector(".".concat(K,"-face"));this.container=a,this.cropper=m,this.canvas=p,this.dragBox=f,this.cropBox=h,this.viewBox=m.querySelector(".".concat(K,"-view-box")),this.face=y,p.appendChild(s),Z(r,ee),a.insertBefore(m,r.nextSibling),this.isImg||de(s,Bt),this.initPreview(),this.bind(),o.initialAspectRatio=Math.max(0,o.initialAspectRatio)||NaN,o.aspectRatio=Math.max(0,o.aspectRatio)||NaN,o.viewMode=Math.max(0,Math.min(3,Math.round(o.viewMode)))||0,Z(h,ee),o.guides||Z(h.getElementsByClassName("".concat(K,"-dashed")),ee),o.center||Z(h.getElementsByClassName("".concat(K,"-center")),ee),o.background&&Z(m,"".concat(K,"-bg")),o.highlight||Z(y,za),o.cropBoxMovable&&(Z(y,at),Ae(y,Te,nt)),o.cropBoxResizable||(Z(h.getElementsByClassName("".concat(K,"-line")),ee),Z(h.getElementsByClassName("".concat(K,"-point")),ee)),this.render(),this.ready=!0,this.setDragMode(o.dragMode),o.autoCrop&&this.crop(),this.setData(o.data),te(o.ready)&&oe(r,It,o.ready,{once:!0}),xe(r,It)}}},{key:"unbuild",value:function(){!this.ready||(this.ready=!1,this.unbind(),this.resetPreview(),this.cropper.parentNode.removeChild(this.cropper),de(this.element,ee))}},{key:"uncreate",value:function(){this.ready?(this.unbuild(),this.ready=!1,this.cropped=!1):this.sizing?(this.sizingImage.onload=null,this.sizing=!1,this.sized=!1):this.reloading?(this.xhr.onabort=null,this.xhr.abort()):this.image&&this.stop()}}],[{key:"noConflict",value:function(){return window.Cropper=vi,i}},{key:"setDefaults",value:function(r){Y(Kt,ve(r)&&r)}}]),i}();Y(er.prototype,fi,pi,gi,yi,bi,wi);const ki={class:"flex"},_i=["aria-label"],xi={class:"ml-auto mb-2"},Si={class:"w-full flex justify-center"},Di=["src"],Ei={__name:"Image",props:{selection:Object},emits:["load"],setup(i,{emit:t}){const r=i,{t:o}=e.inject("i18n"),{apiUrl:s}=ie(),a=e.ref(null),l=e.ref(null),m=e.ref(!1),p=e.ref(""),f=e.ref(!1),h=()=>{m.value=!m.value,m.value?l.value=new er(a.value,{crop(E){}}):l.value.destroy()},y=e.inject("postData"),b=()=>{l.value.getCroppedCanvas({width:795,height:341}).toBlob(E=>{p.value="",f.value=!1,ze(s.value,{method:"POST",params:Object.assign(y,{q:"upload",adapter:r.selection.adapter,path:r.selection.item.path,file:E}),name:r.selection.item.basename,json:!1}).then(k=>{p.value=o("Updated."),a.value.src=Qe(r.selection.adapter,r.selection.item.path),h(),t("load")}).catch(k=>{p.value=o(k.message),f.value=!0})})};return e.onMounted(()=>{t("load")}),(E,k)=>(e.openBlock(),e.createElementBlock(e.Fragment,null,[e.createElementVNode("div",ki,[e.createElementVNode("h3",{class:"mb-2 text-lg leading-6 font-medium text-gray-900 dark:text-gray-400",id:"modal-title","aria-label":i.selection.item.path,"data-microtip-position":"bottom-right",role:"tooltip"},e.toDisplayString(i.selection.item.basename),9,_i),e.createElementVNode("div",xi,[m.value?(e.openBlock(),e.createElementBlock("button",{key:0,onClick:b,class:"ml-1 px-2 py-1 rounded border border-transparent shadow-sm bg-blue-700/75 hover:bg-blue-700 dark:bg-gray-700 dark:hover:bg-gray-700/50 text-base font-medium text-white sm:ml-3 sm:w-auto sm:text-sm"},e.toDisplayString(e.unref(o)("Crop")),1)):e.createCommentVNode("",!0),e.createElementVNode("button",{class:"ml-1 px-2 py-1 text-blue-500",onClick:k[0]||(k[0]=x=>h())},e.toDisplayString(m.value?e.unref(o)("Cancel"):e.unref(o)("Edit")),1)])]),e.createElementVNode("div",Si,[e.createElementVNode("img",{ref_key:"image",ref:a,class:"max-w-[60vh] max-h-[60vh]",src:e.unref(Qe)(r.selection.adapter,r.selection.item.path),alt:""},null,8,Di)]),p.value.length?(e.openBlock(),e.createBlock(le,{key:0,onHidden:k[1]||(k[1]=x=>p.value=""),error:f.value},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(p.value),1)]),_:1},8,["error"])):e.createCommentVNode("",!0)],64))}},Ni={class:"flex"},Vi=["aria-label"],Ci=e.createElementVNode("div",null,null,-1),$i={__name:"Default",props:{selection:Object},emits:["load"],setup(i,{emit:t}){return e.onMounted(()=>{t("load")}),(r,o)=>(e.openBlock(),e.createElementBlock(e.Fragment,null,[e.createElementVNode("div",Ni,[e.createElementVNode("h3",{class:"mb-2 text-lg leading-6 font-medium text-gray-900 dark:text-gray-400",id:"modal-title","aria-label":i.selection.item.path,"data-microtip-position":"bottom-right",role:"tooltip"},e.toDisplayString(i.selection.item.basename),9,Vi)]),Ci],64))}},Mi=["aria-label"],Bi={class:"w-full",preload:"",controls:""},Ti=["src"],Ai=e.createTextVNode(" Your browser does not support the video tag. "),Oi={__name:"Video",props:{selection:Object},emits:["load"],setup(i,{emit:t}){const r=i,{apiUrl:o}=ie(),s=()=>o.value+"?"+pe({q:"preview",adapter:r.selection.adapter,path:r.selection.item.path});return e.onMounted(()=>{t("load")}),(a,l)=>(e.openBlock(),e.createElementBlock(e.Fragment,null,[e.createElementVNode("h3",{class:"mb-2 text-lg leading-6 font-medium text-gray-900 dark:text-gray-400",id:"modal-title","aria-label":i.selection.item.path,"data-microtip-position":"bottom-right",role:"tooltip"},e.toDisplayString(i.selection.item.basename),9,Mi),e.createElementVNode("div",null,[e.createElementVNode("video",Bi,[e.createElementVNode("source",{src:s(),type:"video/mp4"},null,8,Ti),Ai])])],64))}},ji=["aria-label"],Pi={class:"w-full",controls:""},Li=["src"],Ii=e.createTextVNode(" Your browser does not support the audio element. "),zi={__name:"Audio",props:{selection:Object},emits:["load"],setup(i,{emit:t}){const r=i,{apiUrl:o}=ie(),s=()=>o.value+"?"+pe({q:"preview",adapter:r.selection.adapter,path:r.selection.item.path});return e.onMounted(()=>{t("load")}),(a,l)=>(e.openBlock(),e.createElementBlock(e.Fragment,null,[e.createElementVNode("h3",{class:"mb-2 text-lg leading-6 font-medium text-gray-900 dark:text-gray-400",id:"modal-title","aria-label":i.selection.item.path,"data-microtip-position":"bottom-right",role:"tooltip"},e.toDisplayString(i.selection.item.basename),9,ji),e.createElementVNode("div",null,[e.createElementVNode("audio",Pi,[e.createElementVNode("source",{src:s(),type:"audio/mpeg"},null,8,Li),Ii])])],64))}},Ri=["aria-label"],Hi=["data"],Fi=["src"],Ui={__name:"Pdf",props:{selection:Object},emits:["load"],setup(i,{emit:t}){const r=i,{apiUrl:o}=ie(),s=()=>o.value+"?"+pe({q:"preview",adapter:r.selection.adapter,path:r.selection.item.path});return e.onMounted(()=>{t("load")}),(a,l)=>(e.openBlock(),e.createElementBlock(e.Fragment,null,[e.createElementVNode("h3",{class:"mb-2 text-lg leading-6 font-medium text-gray-900 dark:text-gray-400",id:"modal-title","aria-label":i.selection.item.path,"data-microtip-position":"bottom-right",role:"tooltip"},e.toDisplayString(i.selection.item.basename),9,Ri),e.createElementVNode("div",null,[e.createElementVNode("object",{class:"h-[60vh]",data:s(),type:"application/pdf",width:"100%",height:"100%"},[e.createElementVNode("iframe",{class:"border-0",src:s(),width:"100%",height:"100%"},`
          <p>
            Your browser does not support PDFs.
            <a href="https://example.com/test.pdf">Download the PDF</a>
            .
          </p>
        `,8,Fi)],8,Hi)])],64))}},Ki={class:"sm:flex sm:items-start"},Yi={class:"mt-3 text-center sm:mt-0 sm:text-left w-full"},Wi={class:"text-gray-700 dark:text-gray-200 text-sm"},Xi={key:0,class:"flex leading-5"},qi=e.createElementVNode("svg",{class:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[e.createElementVNode("circle",{class:"opacity-25 stroke-blue-900 dark:stroke-blue-100",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),e.createElementVNode("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),Gi={class:"p-2 flex font-normal break-all dark:text-gray-200 rounded text-xs"},Ji={class:"font-bold pl-2"},Zi={class:"font-bold pl-2"},Qi=Object.assign({name:"VFModalPreview"},{props:{selection:Object},setup(i){const t=i,{apiUrl:r}=ie(),o=e.inject("emitter"),{t:s}=e.inject("i18n"),a=e.ref(!1),l=f=>a.value=f,m=f=>{var h;return((h=t.selection.item.mime_type)!=null?h:"").startsWith(f)},p=()=>{const f=r.value+"?"+pe({q:"download",adapter:t.selection.adapter,path:t.selection.item.path});o.emit("vf-download",f)};return(f,h)=>(e.openBlock(),e.createBlock(se,null,{buttons:e.withCtx(()=>[e.createElementVNode("button",{type:"button",onClick:h[6]||(h[6]=y=>e.unref(o).emit("vf-modal-close")),class:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 dark:focus:ring-gray-400 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm"},e.toDisplayString(e.unref(s)("Close")),1),e.createElementVNode("button",{type:"button",onClick:h[7]||(h[7]=y=>p()),class:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 dark:focus:ring-gray-400 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm"},e.toDisplayString(e.unref(s)("Download")),1)]),default:e.withCtx(()=>[e.createElementVNode("div",Ki,[e.createElementVNode("div",Yi,[e.createElementVNode("div",null,[m("text")?(e.openBlock(),e.createBlock(Ba,{key:0,selection:i.selection,onLoad:h[0]||(h[0]=y=>l(!0))},null,8,["selection"])):m("image")?(e.openBlock(),e.createBlock(Ei,{key:1,selection:i.selection,onLoad:h[1]||(h[1]=y=>l(!0))},null,8,["selection"])):m("video")?(e.openBlock(),e.createBlock(Oi,{key:2,selection:i.selection,onLoad:h[2]||(h[2]=y=>l(!0))},null,8,["selection"])):m("audio")?(e.openBlock(),e.createBlock(zi,{key:3,selection:i.selection,onLoad:h[3]||(h[3]=y=>l(!0))},null,8,["selection"])):m("application/pdf")?(e.openBlock(),e.createBlock(Ui,{key:4,selection:i.selection,onLoad:h[4]||(h[4]=y=>l(!0))},null,8,["selection"])):(e.openBlock(),e.createBlock($i,{key:5,selection:i.selection,onLoad:h[5]||(h[5]=y=>l(!0))},null,8,["selection"]))]),e.createElementVNode("div",Wi,[a.value==!1?(e.openBlock(),e.createElementBlock("div",Xi,[qi,e.createElementVNode("span",null,e.toDisplayString(e.unref(s)("Loading")),1)])):e.createCommentVNode("",!0)])])]),e.createElementVNode("div",Gi,[e.createElementVNode("div",null,[e.createElementVNode("span",Ji,e.toDisplayString(e.unref(s)("File Size"))+": ",1),e.createTextVNode(e.toDisplayString(e.unref(_t)(i.selection.item.file_size)),1)]),e.createElementVNode("div",null,[e.createElementVNode("span",Zi,e.toDisplayString(e.unref(s)("Last Modified"))+": ",1),e.createTextVNode(" "+e.toDisplayString(e.unref(xt)(i.selection.item.last_modified)),1)])])]),_:1}))}}),es={class:"sm:flex sm:items-start"},ts=e.createElementVNode("div",{class:"mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-blue-50 dark:bg-gray-500 sm:mx-0 sm:h-10 sm:w-10"},[e.createElementVNode("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6 stroke-blue-600 dark:stroke-blue-100",fill:"none",viewBox:"0 0 24 24",stroke:"none","stroke-width":"1.5"},[e.createElementVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})])],-1),rs={class:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left w-full"},ns={class:"text-lg leading-6 font-medium text-gray-900 dark:text-gray-400",id:"modal-title"},os={class:"mt-2"},as={class:"flex text-sm text-gray-800 dark:text-gray-400 py-2"},is={key:0,xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 text-neutral-500 fill-sky-500 stroke-sky-500 dark:fill-slate-500 dark:stroke-slate-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"1"},ss=[e.createElementVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z"},null,-1)],ls={key:1,xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 text-neutral-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"1"},cs=[e.createElementVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z"},null,-1)],ds={class:"ml-1.5"},hs=["onKeyup"],us=Object.assign({name:"VFModalRename"},{props:{selection:Object,current:Object},setup(i){const t=i,r=e.inject("emitter"),{getStore:o}=e.inject("storage"),{t:s}=e.inject("i18n"),a=e.ref(t.selection.items[0]),l=e.ref(t.selection.items[0].basename),m=e.ref(""),p=()=>{l.value!=""&&r.emit("vf-fetch",{params:{q:"rename",adapter:o("adapter","local"),path:t.current.dirname,item:a.value.path,name:l.value},onSuccess:()=>{r.emit("vf-toast-push",{label:s("%s is renamed.",l.value)})},onError:f=>{m.value=s(f.message)}})};return(f,h)=>(e.openBlock(),e.createBlock(se,null,{buttons:e.withCtx(()=>[e.createElementVNode("button",{type:"button",onClick:p,class:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-blue-600 dark:bg-gray-700 dark:hover:bg-gray-600/75 text-base font-medium text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 sm:ml-3 sm:w-auto sm:text-sm"},e.toDisplayString(e.unref(s)("Rename")),1),e.createElementVNode("button",{type:"button",onClick:h[2]||(h[2]=y=>e.unref(r).emit("vf-modal-close")),class:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm"},e.toDisplayString(e.unref(s)("Cancel")),1)]),default:e.withCtx(()=>[e.createElementVNode("div",es,[ts,e.createElementVNode("div",rs,[e.createElementVNode("h3",ns,e.toDisplayString(e.unref(s)("Rename")),1),e.createElementVNode("div",os,[e.createElementVNode("p",as,[a.value.type=="dir"?(e.openBlock(),e.createElementBlock("svg",is,ss)):(e.openBlock(),e.createElementBlock("svg",ls,cs)),e.createElementVNode("span",ds,e.toDisplayString(a.value.basename),1)]),e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":h[0]||(h[0]=y=>l.value=y),onKeyup:e.withKeys(p,["enter"]),class:"px-2 py-1 border rounded dark:bg-gray-700/25 dark:focus:ring-gray-600 dark:focus:border-gray-600 dark:text-gray-100 w-full",placeholder:"Name",type:"text"},null,40,hs),[[e.vModelText,l.value]]),m.value.length?(e.openBlock(),e.createBlock(le,{key:0,onHidden:h[1]||(h[1]=y=>m.value=""),error:""},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(m.value),1)]),_:1})):e.createCommentVNode("",!0)])])])]),_:1}))}}),ms={class:"sm:flex sm:items-start"},fs=e.createElementVNode("div",{class:"mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-blue-50 dark:bg-gray-500 sm:mx-0 sm:h-10 sm:w-10"},[e.createElementVNode("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6 stroke-blue-600 dark:stroke-blue-100",fill:"none",viewBox:"0 0 24 24",stroke:"none","stroke-width":"1.5"},[e.createElementVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"})])],-1),ps={class:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left"},gs={class:"text-lg leading-6 font-medium text-gray-900 dark:text-gray-400",id:"modal-title"},ys={class:"mt-2"},bs={class:"text-gray-500 mb-1"},ws=["id"],vs={key:0,class:"py-2"},ks=["disabled","onClick"],_s=Object.assign({name:"VFModalUpload"},{props:{current:Object},setup(i){const t=i,r=e.inject("emitter"),{apiUrl:o}=ie(),{t:s}=e.inject("i18n"),a=e.ref(null),l=e.ref(null),m=e.ref(null),p=e.ref([]),f=e.ref(""),h=e.ref(!0),y=()=>{f.value="",a.value.start()},b=e.inject("postData");return e.onMounted(()=>{a.value=new Je.default.Uploader({runtimes:"html5",browse_button:m.value,container:l.value,max_file_size:"10mb",multiple_queues:!0,file_data_name:"file",url:o.value+"?"+pe(Object.assign(b,{q:"upload",adapter:t.current.adapter,path:t.current.dirname})),headers:{...Ie&&{"X-CSRF-Token":Ie}},init:{PostInit:function(){},FilesAdded:function(E,k){h.value=!1,Je.default.each(k,function(x){p.value.push({id:x.id,name:x.name,size:Je.default.formatSize(x.size),percent:""})})},UploadProgress:function(E,k){p.value[p.value.findIndex(x=>x.id==k.id)].percent=k.percent+"%"},UploadComplete:function(){h.value=!0,r.emit("vf-fetch",{params:{q:"index",adapter:t.current.adapter,path:t.current.dirname}})},Error:function(E,k){a.value.stop(),f.value=s(JSON.parse(k.response).message)}}}),a.value.init()}),(E,k)=>(e.openBlock(),e.createBlock(se,null,{buttons:e.withCtx(()=>[e.createElementVNode("button",{disabled:h.value,onClick:e.withModifiers(y,["prevent"]),type:"button",class:e.normalizeClass([h.value?"bg-blue-200 hover:bg-blue-200 dark:bg-gray-700/50 dark:hover:bg-gray-700/50 dark:text-gray-500":"bg-blue-600 hover:bg-blue-700 dark:bg-gray-700 dark:hover:bg-gray-500","w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 text-base font-medium text-white focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 sm:ml-3 sm:w-auto sm:text-sm"])},e.toDisplayString(e.unref(s)("Upload")),11,ks),e.createElementVNode("button",{type:"button",onClick:k[1]||(k[1]=x=>e.unref(r).emit("vf-modal-close")),class:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm"},e.toDisplayString(e.unref(s)("Cancel")),1)]),default:e.withCtx(()=>[e.createElementVNode("div",ms,[fs,e.createElementVNode("div",ps,[e.createElementVNode("h3",gs,e.toDisplayString(e.unref(s)("Upload files")),1),e.createElementVNode("div",ys,[e.createElementVNode("div",bs,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(p.value,x=>(e.openBlock(),e.createElementBlock("div",null,[e.createElementVNode("div",{id:x.id},[e.createTextVNode(e.toDisplayString(x.name)+" ( "+e.toDisplayString(x.size)+") ",1),e.createElementVNode("b",null,e.toDisplayString(x.percent),1)],8,ws)]))),256)),p.value.length?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("div",vs,e.toDisplayString(e.unref(s)("No files selected!")),1))]),e.createElementVNode("div",{class:"text-gray-500",ref_key:"container",ref:l},[e.createElementVNode("button",{ref_key:"pickFiles",ref:m,type:"button",class:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm"},e.toDisplayString(e.unref(s)("Select Files")),513)],512),f.value.length?(e.openBlock(),e.createBlock(le,{key:0,onHidden:k[0]||(k[0]=x=>f.value=""),error:""},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(f.value),1)]),_:1})):e.createCommentVNode("",!0)])])])]),_:1}))}}),xs={class:"sm:flex sm:items-start"},Ss=e.createElementVNode("div",{class:"mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-blue-50 dark:bg-gray-500 sm:mx-0 sm:h-10 sm:w-10"},[e.createElementVNode("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6 stroke-blue-600 dark:stroke-blue-100",fill:"none",viewBox:"0 0 24 24",stroke:"none","stroke-width":"1.5"},[e.createElementVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M20.25 7.5l-.625 10.632a2.25 2.25 0 01-2.247 2.118H6.622a2.25 2.25 0 01-2.247-2.118L3.75 7.5M10 11.25h4M3.375 7.5h17.25c.621 0 1.125-.504 1.125-1.125v-1.5c0-.621-.504-1.125-1.125-1.125H3.375c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125z"})])],-1),Ds={class:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left w-full"},Es={class:"text-lg leading-6 font-medium text-gray-900 dark:text-gray-400",id:"modal-title"},Ns={class:"mt-2"},Vs={class:"flex text-sm text-gray-800 dark:text-gray-400"},Cs={key:0,xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 text-neutral-500 fill-sky-500 stroke-sky-500 dark:fill-slate-500 dark:stroke-slate-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"1"},$s=[e.createElementVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z"},null,-1)],Ms={key:1,xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 text-neutral-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"1"},Bs=[e.createElementVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z"},null,-1)],Ts={class:"ml-1.5"},As=["onKeyup","placeholder"],Os=Object.assign({name:"VFModalArchive"},{props:{selection:Object,current:Object},setup(i){const t=i,r=e.inject("emitter"),{getStore:o}=e.inject("storage"),{t:s}=e.inject("i18n"),a=e.ref(""),l=e.ref(""),m=e.ref(t.selection.items),p=()=>{m.value.length&&r.emit("vf-fetch",{params:{q:"archive",adapter:o("adapter","local"),path:t.current.dirname,items:JSON.stringify(m.value.map(({path:f,type:h})=>({path:f,type:h}))),name:a.value},onSuccess:()=>{r.emit("vf-toast-push",{label:s("The file(s) archived.")})},onError:f=>{l.value=s(f.message)}})};return(f,h)=>(e.openBlock(),e.createBlock(se,null,{buttons:e.withCtx(()=>[e.createElementVNode("button",{type:"button",onClick:p,class:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-blue-600 dark:bg-gray-700 dark:hover:bg-gray-600/75 text-base font-medium text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 sm:ml-3 sm:w-auto sm:text-sm"},e.toDisplayString(e.unref(s)("Archive")),1),e.createElementVNode("button",{type:"button",onClick:h[2]||(h[2]=y=>e.unref(r).emit("vf-modal-close")),class:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm"},e.toDisplayString(e.unref(s)("Cancel")),1)]),default:e.withCtx(()=>[e.createElementVNode("div",xs,[Ss,e.createElementVNode("div",Ds,[e.createElementVNode("h3",Es,e.toDisplayString(e.unref(s)("Archive the files")),1),e.createElementVNode("div",Ns,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(m.value,y=>(e.openBlock(),e.createElementBlock("p",Vs,[y.type=="dir"?(e.openBlock(),e.createElementBlock("svg",Cs,$s)):(e.openBlock(),e.createElementBlock("svg",Ms,Bs)),e.createElementVNode("span",Ts,e.toDisplayString(y.basename),1)]))),256)),e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":h[0]||(h[0]=y=>a.value=y),onKeyup:e.withKeys(p,["enter"]),class:"my-1 px-2 py-1 border rounded dark:bg-gray-700/25 dark:focus:ring-gray-600 dark:focus:border-gray-600 dark:text-gray-100 w-full",placeholder:e.unref(s)("Archive name. (.zip file will be created)"),type:"text"},null,40,As),[[e.vModelText,a.value]]),l.value.length?(e.openBlock(),e.createBlock(le,{key:0,onHidden:h[1]||(h[1]=y=>l.value=""),error:""},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(l.value),1)]),_:1})):e.createCommentVNode("",!0)])])])]),_:1}))}}),js={class:"sm:flex sm:items-start"},Ps=e.createElementVNode("div",{class:"mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-blue-50 dark:bg-gray-500 sm:mx-0 sm:h-10 sm:w-10"},[e.createElementVNode("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6 stroke-blue-600 dark:stroke-blue-100",fill:"none",viewBox:"0 0 24 24",stroke:"none","stroke-width":"1.5"},[e.createElementVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M20.25 7.5l-.625 10.632a2.25 2.25 0 01-2.247 2.118H6.622a2.25 2.25 0 01-2.247-2.118L3.75 7.5m6 4.125l2.25 2.25m0 0l2.25 2.25M12 13.875l2.25-2.25M12 13.875l-2.25 2.25M3.375 7.5h17.25c.621 0 1.125-.504 1.125-1.125v-1.5c0-.621-.504-1.125-1.125-1.125H3.375c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125z"})])],-1),Ls={class:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left w-full"},Is={class:"text-lg leading-6 font-medium text-gray-900 dark:text-gray-400",id:"modal-title"},zs={class:"mt-2"},Rs={class:"flex text-sm text-gray-800 dark:text-gray-400"},Hs={key:0,xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 text-neutral-500 fill-sky-500 stroke-sky-500 dark:fill-slate-500 dark:stroke-slate-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"1"},Fs=[e.createElementVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z"},null,-1)],Us={key:1,xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 text-neutral-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"1"},Ks=[e.createElementVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z"},null,-1)],Ys={class:"ml-1.5"},Ws={class:"my-1 text-sm text-gray-500"},Xs=Object.assign({name:"VFModalUnarchive"},{props:{selection:Object,current:Object},setup(i){const t=i,r=e.inject("emitter"),{getStore:o}=e.inject("storage"),{t:s}=e.inject("i18n");e.ref("");const a=e.ref(t.selection.items[0]),l=e.ref(""),m=e.ref([]),p=()=>{r.emit("vf-fetch",{params:{q:"unarchive",adapter:o("adapter","local"),path:t.current.dirname,item:a.value.path},onSuccess:()=>{r.emit("vf-toast-push",{label:s("The file unarchived.")})},onError:f=>{l.value=s(f.message)}})};return(f,h)=>(e.openBlock(),e.createBlock(se,null,{buttons:e.withCtx(()=>[e.createElementVNode("button",{type:"button",onClick:p,class:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-blue-600 dark:bg-gray-700 dark:hover:bg-gray-600/75 text-base font-medium text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 sm:ml-3 sm:w-auto sm:text-sm"},e.toDisplayString(e.unref(s)("Unarchive")),1),e.createElementVNode("button",{type:"button",onClick:h[1]||(h[1]=y=>e.unref(r).emit("vf-modal-close")),class:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm"},e.toDisplayString(e.unref(s)("Cancel")),1)]),default:e.withCtx(()=>[e.createElementVNode("div",js,[Ps,e.createElementVNode("div",Ls,[e.createElementVNode("h3",Is,e.toDisplayString(e.unref(s)("Unarchive")),1),e.createElementVNode("div",zs,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(m.value,y=>(e.openBlock(),e.createElementBlock("p",Rs,[y.type=="dir"?(e.openBlock(),e.createElementBlock("svg",Hs,Fs)):(e.openBlock(),e.createElementBlock("svg",Us,Ks)),e.createElementVNode("span",Ys,e.toDisplayString(y.basename),1)]))),256)),e.createElementVNode("p",Ws,e.toDisplayString(e.unref(s)("The archive will be unarchived at"))+" ("+e.toDisplayString(i.current.dirname)+")",1),l.value.length?(e.openBlock(),e.createBlock(le,{key:0,onHidden:h[0]||(h[0]=y=>l.value=""),error:""},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(l.value),1)]),_:1})):e.createCommentVNode("",!0)])])])]),_:1}))}}),qs={class:"sm:flex sm:items-start"},Gs=e.createElementVNode("div",{class:"mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-red-100 dark:bg-gray-500 sm:mx-0 sm:h-10 sm:w-10"},[e.createElementVNode("svg",{class:"h-6 w-6 stroke-red-600 dark:stroke-red-200",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor","aria-hidden":"true"},[e.createElementVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})])],-1),Js={class:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left w-full"},Zs={class:"text-lg leading-6 font-medium text-gray-900 dark:text-gray-400",id:"modal-title"},Qs={class:"mt-2"},el={class:"flex text-sm text-gray-800 dark:text-gray-400"},tl={key:0,xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 text-neutral-500 fill-sky-500 stroke-sky-500 dark:fill-slate-500 dark:stroke-slate-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"1"},rl=[e.createElementVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z"},null,-1)],nl={key:1,xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 text-neutral-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"1"},ol=[e.createElementVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z"},null,-1)],al={class:"ml-1.5"},il={class:"text-sm text-gray-500 pb-1 pt-3"},sl={class:"flex text-sm text-gray-800 dark:text-gray-400"},ll=e.createElementVNode("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 text-neutral-500 fill-sky-500 stroke-sky-500 dark:fill-slate-500 dark:stroke-slate-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"1"},[e.createElementVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z"})],-1),cl={class:"ml-1.5 overflow-auto"},gt={VueFinder:jo,...Object.freeze(Object.defineProperty({__proto__:null,ModalDelete:na,ModalMessage:da,ModalNewFolder:ba,ModalNewFile:Ea,ModalPreview:Qi,ModalRename:us,ModalUpload:_s,ModalArchive:Os,ModalUnarchive:Xs,ModalMove:Object.assign({name:"VFModalMove"},{props:{selection:Object,current:Object},setup(i){const t=i,r=e.inject("emitter"),{t:o}=e.inject("i18n"),{getStore:s}=e.inject("storage"),a=e.ref(t.selection.items.from),l=e.ref(""),m=()=>{a.value.length&&r.emit("vf-fetch",{params:{q:"move",adapter:s("adapter","local"),path:t.current.dirname,items:JSON.stringify(a.value.map(({path:p,type:f})=>({path:p,type:f}))),item:t.selection.items.to.path},onSuccess:()=>{r.emit("vf-toast-push",{label:o("Files moved.",t.selection.items.to.name)})},onError:p=>{l.value=o(p.message)}})};return(p,f)=>(e.openBlock(),e.createBlock(se,null,{buttons:e.withCtx(()=>[e.createElementVNode("button",{type:"button",onClick:m,class:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-blue-600 dark:bg-gray-700 dark:hover:bg-gray-600/75 text-base font-medium text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 sm:ml-3 sm:w-auto sm:text-sm"},e.toDisplayString(e.unref(o)("Yes, Move!")),1),e.createElementVNode("button",{type:"button",onClick:f[1]||(f[1]=h=>e.unref(r).emit("vf-modal-close")),class:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm"},e.toDisplayString(e.unref(o)("Cancel")),1)]),default:e.withCtx(()=>[e.createElementVNode("div",qs,[Gs,e.createElementVNode("div",Js,[e.createElementVNode("h3",Zs,e.toDisplayString(e.unref(o)("Move files")),1),e.createElementVNode("div",Qs,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(a.value,h=>(e.openBlock(),e.createElementBlock("p",el,[h.type=="dir"?(e.openBlock(),e.createElementBlock("svg",tl,rl)):(e.openBlock(),e.createElementBlock("svg",nl,ol)),e.createElementVNode("span",al,e.toDisplayString(h.path),1)]))),256)),e.createElementVNode("p",il,e.toDisplayString(e.unref(o)("Are you sure you want to move these files?")),1),e.createElementVNode("p",sl,[ll,e.createElementVNode("span",cl,e.toDisplayString(i.selection.items.to.path),1)]),l.value.length?(e.openBlock(),e.createBlock(le,{key:0,onHidden:f[0]||(f[0]=h=>l.value=""),error:""},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(l.value),1)]),_:1})):e.createCommentVNode("",!0)])])])]),_:1}))}})},Symbol.toStringTag,{value:"Module"}))},sd="",ld="",dl={install(i){for(const t in gt)if(gt.hasOwnProperty(t)){const r=gt[t];i.component(r.name,r)}}},hl=Object.freeze(Object.defineProperty({__proto__:null,default:`{
  "Language": "Language",
  "Create": "Create",
  "Close": "Close",
  "Cancel": "Cancel",
  "Save": "Save",
  "Edit": "Edit",
  "Crop": "Crop",
  "New Folder": "New Folder",
  "New File": "New File",
  "Rename": "Rename",
  "Delete": "Delete",
  "Upload": "Upload",
  "Download": "Download",
  "Archive": "Archive",
  "Unarchive": "Unarchive",
  "Open": "Open",
  "Open containing folder": "Open containing folder",
  "Refresh": "Refresh",
  "Preview": "Preview",
  "Dark Mode": "Dark Mode",
  "Toggle Full Screen": "Toggle Full Screen",
  "Change View": "Change View",
  "Storage" : "Storage",
  "Go up a directory": "Go up a directory",
  "Search anything..": "Search anything..",
  "Name": "Name",
  "Size": "Size",
  "Date": "Date",
  "Filepath": "Filepath",
  "About": "About",
  "Folder Name": "Folder Name",
  "File Name": "File Name",
  "Move files": "Move files",
  "Are you sure you want to move these files to?": "Are you sure you want to move these files to?",
  "Yes, Move!": "Yes, Move!",
  "Delete files": "Delete files",
  "Yes, Delete!": "Yes, Delete!",
  "Upload Files" : "Upload Files",
  "No files selected!": "No files selected!",
  "Select Files": "Select Files",
  "Archive the files": "Archive the files",
  "Unarchive the files": "Unarchive the files",
  "The archive will be unarchived at": "The archive will be unarchived at",
  "Archive name. (.zip file will be created)": "Archive name. (.zip file will be created)",
  "Vuefinder is a file manager component for vue 3.": "Vuefinder is a file manager component for vue 3.",
  "Create a new folder": "Create a new folder",
  "Create a new file": "Create a new file",
  "Are you sure you want to delete these files?": "Are you sure you want to delete these files?",
  "This action cannot be undone.": "This action cannot be undone.",
  "Search results for" : "Search results for",
  "item(s) selected.": "item(s) selected.",
  "%s is renamed." : "%s is renamed.",
  "This is a readonly storage." : "This is a readonly storage.",
  "%s is created." : "%s is created.",
  "Files moved." : "Files moved.",
  "Files deleted." : "Files deleted.",
  "The file unarchived." : "The file unarchived.",
  "The file(s) archived." : "The file(s) archived.",
  "Updated." : "Updated.",
  "No search result found." : "No search result found.",
  "Are you sure you want to move these files?" : "Are you sure you want to move these files?",
  "File Size": "File Size",
  "Last Modified": "Last Modified"
}
`},Symbol.toStringTag,{value:"Module"})),ul=Object.freeze(Object.defineProperty({__proto__:null,default:`{
  "Language": "Dil",
  "Create": "Olu\u015Ftur",
  "Close": "Kapat",
  "Cancel": "\u0130ptal",
  "Save": "Kaydet",
  "Edit": "D\xFCzenle",
  "Crop": "Kes",
  "New Folder": "Yeni Klas\xF6r",
  "New File": "Yeni Dosya",
  "Rename": "Yeniden Adland\u0131r",
  "Delete": "Sil",
  "Upload": "Kar\u015F\u0131ya Y\xFCkle",
  "Download": "\u0130ndir",
  "Archive": "Ar\u015Fivle",
  "Unarchive": "Ar\u015Fivden \xE7\u0131kar",
  "Open": "A\xE7",
  "Open containing folder": "\u0130\xE7eren klas\xF6r\xFC a\xE7",
  "Refresh": "Yenile",
  "Preview": "\xD6nizleme",
  "Dark Mode": "Karanl\u0131k Mod",
  "Toggle Full Screen": "Tam ekran",
  "Change View": "G\xF6r\xFCn\xFCm\xFC de\u011Fi\u015Ftir",
  "Storage": "Depo",
  "Go up a directory": "Yukar\u0131 git",
  "Search anything..": "Herhangi bir \u015Fey ara..",
  "Name": "Ad",
  "Size": "Boyut",
  "Date": "Tarih",
  "Filepath": "Dosya yolu",
  "About": "Hakk\u0131nda",
  "Folder Name": "Klas\xF6r Ad\u0131",
  "File Name": "Dosya Ad\u0131",
  "Move files": "Dosyalar\u0131 ta\u015F\u0131",
  "Are you sure you want to move these files to?": "Bu dosyalar\u0131 ta\u015F\u0131mak istedi\u011Finizden emin misiniz?",
  "Yes, Move!": "Evet, Ta\u015F\u0131!",
  "Delete files": "Dosyalar\u0131 Sil",
  "Yes, Delete!": "Evet, Sil!",
  "Upload files": "Dosyalar\u0131 Y\xFCkle",
  "No files selected!": "Dosya Se\xE7ilmedi!",
  "Select Files": "Dosyalar\u0131 Se\xE7",
  "Archive the files": "Dosyalar\u0131 ar\u015Fivleyin",
  "Unarchive the files": "Dosyalar\u0131 ar\u015Fivden \xE7\u0131kar\u0131n",
  "The archive will be unarchived at": "Ar\u015Fiv buraya \xE7\u0131kar\u0131lacak: ",
  "Archive name. (.zip file will be created)": "Archive ad\u0131. (.zip dosyas\u0131 olu\u015Fturulacak)",
  "Vuefinder is a file manager component for vue 3.": "Vuefinder, vue 3 i\xE7in bir web dosya y\xF6netim bile\u015Fenidir.",
  "Create a new folder": "Yeni bir klas\xF6r olu\u015Fturun",
  "Create a new file": "Yeni bir dosya olu\u015Fturun",
  "Are you sure you want to delete these files?": "Bu dosyalar\u0131 silmek istedi\u011Finize emin misiniz?",
  "This action cannot be undone.": "Bu i\u015Flem geri al\u0131namaz.",
  "Search results for": "Arama sonu\xE7lar\u0131:",
  "item(s) selected.": "dosya se\xE7ildi.",
  "%s is renamed." : "%s yeniden adland\u0131r\u0131lm\u0131\u015Ft\u0131r.",
  "This is a readonly storage." : "Bu salt okunur bir depolama alan\u0131d\u0131r.",
  "%s is created." : "%s ba\u015Far\u0131yla olu\u015Fturulmu\u015Ftur.",
  "Files moved." : "Dosyalar ta\u015F\u0131nd\u0131.",
  "Files deleted." : "Dosyalar silindi.",
  "The file is unarchived." : "Dosya ar\u015Fivden \xE7\u0131kar\u0131ld\u0131.",
  "The file(s) is archived." : "Dosyalar ar\u015Fivlendi.",
  "Updated." : "G\xFCncellendi.",
  "No search result found." : "Arama sonucu bulunamad\u0131.",
  "Are you sure you want to move these files?" : "Bu dosyalar\u0131 ta\u015F\u0131mak istedi\u011Finize emin misiniz?",
  "File Size": "Dosya Boyutu",
  "Last Modified": "Son De\u011Fi\u015Fiklik"
}
`},Symbol.toStringTag,{value:"Module"}));return dl});
